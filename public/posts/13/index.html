
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>citizen428.blog()</title>
  <meta name="author" content="Michael Kohl">

  
  <meta name="description" content="US anti-piracy body targets foreign website owners for extraditionIs anyone still shocked by news like this?
Exclusive first interview with key &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.citizen428.net/posts/13">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="citizen428.blog()" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<meta name="google-site-verification" content="bArHZu2u3n3GxMD_LR02GfyzeA-nYFOuaBuDbfJT07U" />
<meta name="verify-postrank" content="q9zqqyw" />
<link rel="openid.server" href="http://www.myopenid.com/server" />
<link rel="openid.delegate" href="http://citizen428.myopenid.com/" />


  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1416057-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">citizen428.blog()</a></h1>
  
    <h2>Try to learn something about everything</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.citizen428.net" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about/">About</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/projects">Projects</a></li>
  <li><a href="/talks_and_publications">Output</a></li>
  <li><a href="/studynotes">Study Notes</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/imprint/">Imprint</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/07/10/information-overload-2011-07-10/">Information Overload 2011-07-10</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-07-10T00:00:00+07:00" pubdate data-updated="true">Jul 10<sup>th</sup>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul>
<li><a href="http://www.guardian.co.uk/technology/2011/jul/03/us-anti-piracy-extradition-prosecution">US anti-piracy body targets foreign website owners for extradition</a><br>Is anyone still shocked by news like this?</li>
<li><a href="http://www.newscientist.com/article/dn20649-exclusive-first-interview-with-key-lulzsec-hacker.html?full=true">Exclusive first interview with key LulzSec hacker</a><br>I&#8217;m not sure how legit this interview is, better make up your own mind.</li>
<li><a href="http://hobolobo.net/">Hobo Lobo of Hamelin</a><br>Awesome story-telling in <span class="caps">HTML</span>, <span class="caps">CSS</span> and JS. Can&#8217;t wait for the next part.</li>
<li><a href="http://www.bbc.co.uk/news/business-14025485">Who defaults first: Greece or the US?</a><br>With all the attention on Greece, it&#8217;s easy to overlook that the US are in a dire situation too.</li>
<li><a href="http://news.yahoo.com/portugal-drug-law-show-results-ten-years-experts-180013798.html">Portugal drug law show results ten years on, experts say</a><br>Unfortunately this is very unlikely to have any effect on the &#8220;War on Drugs&#8221;, but it&#8217;s good news nonetheless.</li>
<li><a href="http://openpcr.org/2011/07/dna-is-now-diy-openpcr-ships-worldwide/"><span class="caps">DNA</span> is now <span class="caps">DIY</span>: OpenPCR ships worldwide</a><br>Another very impressive achievement of the maker/<span class="caps">DIY</span> community.</li>
<li><a href="Comparing"><span class="caps">IRA</span> VS. Al Qaeda: I was wrong</a> the tactics of the <span class="caps">IRA</span> and Al Qaeda. Some interesting food for thought, but I&#8217;d encourage you to draw your own conclusions from the provided information (like always).<br></li>
<li><a href="http://www.huffingtonpost.com/2011/06/29/ap-associated-press-north-korea-bureau_n_887147.html">Associated Press Opening North Korea Bureau</a><br>Let&#8217;s see how this goes, but I&#8217;m cautiously optimistic about this.</li>
<li><a href="http://www.guardian.co.uk/world/interactive/2011/mar/22/middle-east-protest-interactive-timeline">Arab spring: an interactive timeline of Middle East protests</a><br>Another nice interactive infographic by the Guardian.</li>
<li><a href="http://www.physorg.com/news/2011-07-rhesus-monkeys-awareness-previously-attributed.html">Rhesus monkeys have a form of self awareness not previously attributed to them</a><br>There&#8217;s still so little we know about animals&#8230;</li>
</ul></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/07/07/review-learn-you-a-haskell-for-great-good/">Review: Learn You a Haskell for Great Good</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-07-07T00:00:00+07:00" pubdate data-updated="true">Jul 7<sup>th</sup>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><em>Disclaimer: <a href="http://www.nostarch.com/">No Starch Press</a> were nice enough to provide me with a free copy of the book reviewed here but what I&#8217;m about to write has not been influenced by this.</em></p>
<p>Properly learning Haskell has been on my todo list for years. One of my first more serious attempts was in 2009, when I found <a href="http://learnyouahaskell.com/">a weird little book with lots of cartoons online</a>. As you may have guessed that was Miran Lipovaca&#8217;s &#8220;Learn You a Haskell for Great Good&#8221; and I was immediately intrigued by the writing style and cute cartoons. However back then the book was still a work in progress and I eventually stopped reading it before Miran got around to adding the last chapters. I always promised myself to eventually revisit this later, so I was delighted when I found out that No Starch Press is actually releasing an offline version of the book! Here you can see the cover in its full cartoony glory:<br />
<img class="aligncenter" style="border-width: 2px; border-color: black; border-style: solid;" title="Learn You A Haskell cover" src="http://s3.amazonaws.com/files.posterous.com/teddythebear/1XvdQkcaG7iWYJB8XYQeLVwwt5VGYAcxGPa1PNdigVpx60HxVtEQphHTlXEI/LearnYouAHaskell.jpg?AWSAccessKeyId=AKIAJFZAE65UYRT34AOQ&Expires=1319408436&Signature=woTKJQqeEIU9zs1Ib3AfV64gtfY%3D" alt="Learn You A Haskell cover" width="170" height="225" align="centre" border="1" /></p>
<p>Before you think this book is all about funny drawings, lets talk about the real star, the content. <span class="caps">LYAH</span> definitely is among the top programming books I read so far. Due to the author&#8217;s easy-going and funny style &mdash; though I&#8217;m sure there will be some readers who won&#8217;t appreciate his humor &mdash; you might not even notice at first how choke-full of good content this book is, but once you are done with it you realize that you actually learned a lot. This would be an amazing feat for any technical book, but is even more impressive considering Haskell&#8217;s reputation as being a very academical and arcane language. Sure, not everything is covered here &mdash; Arrows or <span class="caps">CPS</span> come to mind &mdash; but every book is finite and the selection of topics is absolutely appropriate for beginning Haskell enthusiasts. The only chapter I wasn&#8217;t so happy with was the last one on <a href="http://en.wikipedia.org/wiki/Zipper">Zippers</a>, not because it wasn&#8217;t well written or interesting, but more because it felt a bit tucked on.</p>
<p>What can you expect from this book? Will you be a Haskell guru after reading it? Most likely not, because that takes a long time of practice and actually writing code. Maybe that&#8217;s one of the few weak points of <span class="caps">LYAH</span>, the code examples are usually rather short and focussed on getting the point across, not &#8220;real-world&#8221; tasks you are likely to encounter in day to day programming. They still are great for introducing the reader to Haskell&#8217;s way of abstracting problems, which I find immensely beautiful and well thought out. Still, a chapter or two on &#8220;programming in the large&#8221; and how to structure a big Haskell project would have been nice additions, but there are other places for learning more about the language, e.g. the <a href="http://www.haskell.org/haskellwiki/Haskell">Haskell wiki</a> or the <a href="https://encrypted.google.com/#hl=en&amp;q=haskell%20wikibook&amp;aq=f&amp;aqi=&amp;aql=&amp;oq=&amp;gs_rfai=&amp;fp=1&amp;bav=on.2,or.r_gc.r_pw.&amp;cad=b">Haskell Wikibook</a>. What the book will do for you is that once you are done with it, you should have a good basic understanding of the language&#8217;s key concepts and type system and will be comfortable around terms like &#8220;monoid&#8221;, &#8220;applicative functor&#8221; and &#8220;monad&#8221;. There still we be a long way to go before you can consider yourself a Haskell expert, but you&#8217;ll have a very solid grounding to build on.</p>
<p>All in all this is a remarkable book and maybe just what this beautiful language was missing, an easy to read, entertaining yet still thorough introduction to the language, that gives you an idea that Haskell is not only a research subject for computer scientists but a useful tool that can be used to build software.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/07/03/information-overload-2011-07-03/">Information Overload 2011-07-03</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-07-03T00:00:00+07:00" pubdate data-updated="true">Jul 3<sup>rd</sup>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul>
<li><a href="http://news.discovery.com/autos/new-car-engine-sends-shockwaves-through-auto-industry-110405.html">New Car Engine Sends Shock Waves Through Auto Industry</a><br>Interesting new concept for an energy-efficient engine, with a possible prototype by the end of the year.</li>
<li><a href="http://www.economist.com/blogs/dailychart/2011/06/diabetes">Sugar rush</a><br>Interesting info graphic on the increase of diabetes around the world. In Austria the last 30 years saw an increase of 30-46% for women and over 60% for men.</li>
<li><a href="http://smarterware.org/8248/what-google-learned-from-buzz-and-wave">What Google+ Learned from Buzz and Wave</a><br>Since Google+ is all the hype this week, I had to include an article on it. At least this one has some actual content.</li>
<li><a href="http://www.nature.com/news/2011/110628/full/news.2011.388.html">Pruney fingers grip better</a><br>The wringly fingers we get when bathing? There actually might be a good reason for that.</li>
<li><a href="http://blogs.forbes.com/artcarden/2011/06/30/time-to-close-the-security-theater/">Time to Close the Security Theater</a><br>This is Forbes quoting Bruce Schneier and calling for abolishing the <span class="caps">TSA</span>, while also suggesting &#8220;a competitive market for air travel in which the airports, the airways, and the airliners are in private hands&#8221;. I agree with one of the above two points, can you guess which? ;-)</li>
<li><a href="http://www.information.dk/272094">A Party that smiles to the world, but tightens its grip at home</a><br>Having lived in China, I&#8217;m always interested in what&#8217;s going on in the country. From what I saw on Twitter over the last few month, the document cited in this article may well be real.</li>
<li><a href="http://www.guardian.co.uk/world/2011/jun/09/us-drugs-oxycodone-painkillers-florida">Pharmageddon: how America got hooked on killer prescription drugs</a><br>While the headline is terrible, the article tackles a very real problem, prescription drug abuse in the US.</li>
<li><a href="http://hippomath.blogspot.com/2011/07/kempner-series-modified-harmonic-series.html">The Kempner Series &#8211; A modified harmonic series</a><br>Interesting how little it takes to make the harmonic series convergent.</li>
<li><a href="http://derstandard.at/1308679612170/Suedspanien-Dasein-unter-Plastikmuell">Dasein unter Plastikm&uuml;ll</a><br>An interview about the situation of migrant workers in Almeria. Is this what the European Union wants to stand for? (in German)</li>
<li><a href="http://www.nytimes.com/2011/04/17/magazine/mag-17Sugar-t.html?_r=3&amp;pagewanted=all">Is Sugar Toxic?</a><br>Now that people are getting wary of H.F.C.S., some scientists start suspecting that &#8220;normal&#8221; sugar isn&#8217;t much better.</li>
</ul></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/06/26/information-overload-2011-06-26/">Information Overload 2011-06-26</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-06-26T00:00:00+07:00" pubdate data-updated="true">Jun 26<sup>th</sup>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul>
<li><a href="http://sivers.org/fish">Fish don&#8217;t know they&#8217;re in water</a><br>This is something I also learned while traveling, the further you go away from home, the more you realize that many things you take as granted are just part of your own culture.</li>
<li><a href="http://online.wsj.com/article/SB10001424052702304432304576369421525987128.html?mod=WSJ_hps_sections_opinion">Don&#8217;t Know Much About History</a><br>While I hope that history lessons in Europe aren&#8217;t as bad as they apparently are in the US, I remember from my own high-school days that the subject is often taught in awful ways.</li>
<li><a href="http://en.wikipedia.org/wiki/G%C3%B6mb%C3%B6c#Name">The story of the G&ouml;mb&ouml;c</a><br>This is why math is cool: what starts as a weird theory, is later discovered to actually exist in nature.</li>
<li><a href="http://www.coolmagnetman.com/maghow.htm">How do magnets work?</a><br>A very nice explanation of magnetism.</li>
<li><a href="http://www.cs.utexas.edu/users/EWD/ewd08xx/EWD831.PDF">Why numbering should start at zero</a><br>A letter by Edsger W. Dykstra gives a reason for why array indexing should start with 0 (&#8220;an element&#8217;s ordinal (subscript) equals the number of elements preceding it in the sequence&#8221;).</li>
<li><a href="http://singularityhub.com/2011/06/22/new-japanese-pop-idol-shocks-fans-with-news%E2%80%93shes-not-real-video/">New Japanese Pop Idol Shocks Fans With News &mdash; She&#8217;s Not Real</a><br>With the amount of crazy news coming out of Japan, it&#8217;s surprising the country doesn&#8217;t feature here more regularly.</li>
<li><a href="http://www.economist.com/content/indian-summary">An Indian summary</a><br>Great visualization of Indian states compared to countries. Maharashtra for example has the <span class="caps">GDP</span> of Singapore, but a per head roughly like Sri Lanka.</li>
<li><a href="http://www.spiegel.de/international/europe/0,1518,769831,00.html">How European Elites Lost a Generation</a><br>A good article to understand some of the motivations behind the protests of young people everywhere in Europe.</li>
<li><a href="http://www.economist.com/node/18866885">Lucky Yingluck</a><br>With the Thai elections around the corner, this article provides some insights into the current election campaign.</li>
<li><a href="http://www.salon.com/news/opinion/glenn_greenwald/2011/06/01/free_speech">Criminalizing free speech</a><br>On free speech and extra-legal killings.</li>
</ul></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/06/24/ruby-going-to-c-side/">Ruby: Going to the C Side</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-06-24T00:00:00+07:00" pubdate data-updated="true">Jun 24<sup>th</sup>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Yesterday afternoon I decided it&#8217;s about time I finally learn how to write Ruby C extensions, so I went ahead and rewrote one of our <a href="http://www.rubylearning.org/class/">RubyLearning.org</a> exercises in C. Here&#8217;s the exercise description:</p>
<blockquote><p>Write a class called Person, that has balance as an instance variable and<br/>the following public method: show_balance.</p><p>I shall create the Person object as follows:</p><p>p = Person.new(40000)<br/>puts p.show_balance # calling the method</p></blockquote>
<p>Here&#8217;s the program in C, with relevant function signatures included as comments:</p>
<div class='bogus-wrapper'><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span><br />
<span class='line-number'>2</span><br />
<span class='line-number'>3</span><br />
<span class='line-number'>4</span><br />
<span class='line-number'>5</span><br />
<span class='line-number'>6</span><br />
<span class='line-number'>7</span><br />
<span class='line-number'>8</span><br />
<span class='line-number'>9</span><br />
<span class='line-number'>10</span><br />
<span class='line-number'>11</span><br />
<span class='line-number'>12</span><br />
<span class='line-number'>13</span><br />
<span class='line-number'>14</span><br />
<span class='line-number'>15</span><br />
<span class='line-number'>16</span><br />
<span class='line-number'>17</span><br />
<span class='line-number'>18</span><br />
<span class='line-number'>19</span><br />
<span class='line-number'>20</span><br />
<span class='line-number'>21</span><br />
</pre></td><td class='code'><pre><code class='c'>&lt;span class='line'&gt;&lt;span class="cp"&gt;#include &amp;lt;ruby.h&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;VALUE&lt;/span&gt; &lt;span class="nf"&gt;initialize&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;VALUE&lt;/span&gt; &lt;span class="n"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;VALUE&lt;/span&gt; &lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;  &lt;span class="c1"&gt;// VALUE rb_iv_set(VALUE obj, char *name, VALUE value)&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;  &lt;span class="n"&gt;rb_iv_set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;@balance&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;self&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;VALUE&lt;/span&gt; &lt;span class="nf"&gt;show_balance&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;VALUE&lt;/span&gt; &lt;span class="n"&gt;self&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;  &lt;span class="c1"&gt;// VALUE rb_iv_get(VALUE obj, char *name)&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;rb_iv_get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;@balance&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;Init_person&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;  &lt;span class="c1"&gt;// VALUE rb_define_class(char *name, VALUE superclass)&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;  &lt;span class="n"&gt;VALUE&lt;/span&gt; &lt;span class="n"&gt;cPerson&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rb_define_class&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Person&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;rb_cObject&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;
&lt;/span&gt;&lt;span class='line'&gt;  &lt;span class="c1"&gt;// void rb_define_method(VALUE classmod, char *name, VALUE(*func)(), int argc)&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;  &lt;span class="n"&gt;rb_define_method&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cPerson&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;initialize&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;initialize&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;  &lt;span class="n"&gt;rb_define_method&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cPerson&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;show_balance&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;show_balance&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;</code></pre></td><p></tr></table></div></figure></notextile></div></p>
<p>I think the code is very self-explanatory, almost like writing Ruby in C. As you can see we define a class called &#8220;Person&#8221; in the &#8220;Init_person&#8221; function (which is called by Ruby when it loads our module), where we add the functions as instance methods with &#8220;rb_define_method&#8221;. To compile this, we need an extconf.rb, which contains the following:</p>
<div class='bogus-wrapper'><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span><br />
<span class='line-number'>2</span><br />
<span class='line-number'>3</span><br />
<span class='line-number'>4</span><br />
</pre></td><td class='code'><pre><code class='c'>&lt;span class='line'&gt;&lt;span class="n"&gt;require&lt;/span&gt; &lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;mkmf&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="n"&gt;extension_name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;person&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="n"&gt;create_makefile&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;extension_name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;</code></pre></td><p></tr></table></div></figure></notextile></div></p>
<p>Now we can build and run it:</p>
<div class='bogus-wrapper'><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span><br />
<span class='line-number'>2</span><br />
<span class='line-number'>3</span><br />
<span class='line-number'>4</span><br />
<span class='line-number'>5</span><br />
<span class='line-number'>6</span><br />
<span class='line-number'>7</span><br />
<span class='line-number'>8</span><br />
<span class='line-number'>9</span><br />
</pre></td><td class='code'><pre><code class='bash'>&lt;span class='line'&gt;→ ruby extconf.rb
&lt;/span&gt;&lt;span class='line'&gt;creating Makefile
&lt;/span&gt;&lt;span class='line'&gt;→ make
&lt;/span&gt;&lt;span class='line'&gt;gcc -I. &lt;span class="o"&gt;[&lt;/span&gt;output snipped&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;→ irb
&lt;/span&gt;&lt;span class='line'&gt;&amp;gt;&amp;gt; &lt;span class="nv"&gt;$:&lt;/span&gt;&amp;lt;&amp;lt;&lt;span class="s1"&gt;&amp;#39;.&amp;#39;&lt;/span&gt; &lt;span class="c"&gt;#=&amp;gt; [..., &amp;#39;.&amp;#39;]&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;&amp;gt;&amp;gt; require &lt;span class="s1"&gt;&amp;#39;person&amp;#39;&lt;/span&gt; &lt;span class="c"&gt;#=&amp;gt; true&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;&amp;gt;&amp;gt; &lt;span class="nv"&gt;p&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; Person.new&lt;span class="o"&gt;(&lt;/span&gt;3000&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="c"&gt;#=&amp;gt; #&amp;lt;Person:0x00000100a01940 @balance=3000&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;&amp;gt;&amp;gt; p.show_balance &lt;span class="c"&gt;#=&amp;gt; 3000&lt;/span&gt;
&lt;/span&gt;</code></pre></td><p></tr></table></div></figure></notextile></div></p>
<p>As you can see everything works as if we had defined the class in Ruby. Let&#8217;s add another method to deposit some money, which gives us a chance to demonstrate &#8220;rb_funcall&#8221;:</p>
<div class='bogus-wrapper'><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span><br />
<span class='line-number'>2</span><br />
<span class='line-number'>3</span><br />
<span class='line-number'>4</span><br />
<span class='line-number'>5</span><br />
<span class='line-number'>6</span><br />
</pre></td><td class='code'><pre><code class='c'>&lt;span class='line'&gt;&lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;VALUE&lt;/span&gt; &lt;span class="nf"&gt;deposit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;VALUE&lt;/span&gt; &lt;span class="n"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;VALUE&lt;/span&gt; &lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;  &lt;span class="c1"&gt;// VALUE rb_funcall(VALUE recv, ID id, int argc, ... )&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;  &lt;span class="n"&gt;VALUE&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rb_funcall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rb_iv_get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;@balance&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;rb_intern&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;+&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;  &lt;span class="n"&gt;rb_iv_set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;@balance&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;</code></pre></td><p></tr></table></div></figure></notextile></div></p>
<p>We also need to add this function as a method in &#8220;Init_person&#8221;:</p>
<div class='bogus-wrapper'><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span><br />
</pre></td><td class='code'><pre><code class='c'>&lt;span class='line'&gt; &lt;span class="n"&gt;rb_define_method&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cPerson&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;deposit&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;deposit&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;</code></pre></td><p></tr></table></div></figure></notextile></div></p>
<p>Does it work?</p>
<div class='bogus-wrapper'><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span><br />
</pre></td><td class='code'><pre><code class='ruby'>&lt;span class='line'&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;p&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;deposit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;400&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;#=&amp;gt; 3400&lt;/span&gt;
&lt;/span&gt;</code></pre></td><p></tr></table></div></figure></notextile></div></p>
<p>It does and we&#8217;ve successfully created a Ruby class from C. Probably not the type of class you&#8217;d really implement this way, but good enough as an example.</p>
<p>Recommended reading:</p>
<ul>
<li><a href="http://www.ruby-doc.org/docs/ProgrammingRuby/html/ext_ruby.html">Extending Ruby</a> from the PickAxe</li>
<li>Mark Volkmann&#8217;s presentation <a href="http://java.ociweb.com/mark/NFJS/RubyCExtensions.pdf">Ruby C Extensions</a></li>
</ul></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/06/19/information-overload-2011-06-19/">Information Overload 2011-06-19</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-06-19T00:00:00+07:00" pubdate data-updated="true">Jun 19<sup>th</sup>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul>
<li><a href="http://io9.com/5806767/">Take a look at the world&#8217;s oldest mathematical object</a><br>A short article about the Ishango bone, apparently the &quot;<a href="http://mathworld.wolfram.com/IshangoBone.html">oldest known object containing logical carvings</a>&quot;.</li>
<li><a href="http://www.scienceblogs.de/astrodicticum-simplex/2011/06/nemesis-der-todesstern-und-die-dinosaurier.php">Nemesis: Der Todesstern und die Dinosaurier</a><br>Somehow I&#8217;ve missed the <a href="http://en.wikipedia.org/wiki/Nemesis_(hypothetical_star)">Nemesis theory</a> until now, but it sure is interesting (in German).</li>
<li><a href="http://www.codequarterly.com/2011/rich-hickey/">Rich Hickey Q&amp;A</a><br>Great interview with Rich Hickey in Code Quarterly. Whenever I hear/read something by Rich, I understand why Clojure is such an awesome language.</li>
<li><a href="http://www.theregister.co.uk/2011/06/14/ice_age/">Earth may be headed into a mini Ice Age within a decade</a><br>Hm, finally a good excuse to move to warmer places for good? <a href="http://www.newscientist.com/blogs/shortsharpscience/2011/06/new-ice-age-dont-count-on-it.html">Or not</a>?</li>
<li><a href="http://www.theatlantic.com/infocus/2011/06/diy-weapons-of-the-libyan-rebels/100086/"><span class="caps">DIY</span> Weapons of the Libyan Rebels</a><br>The creativity of humans when it comes to killing each other never ceases to amaze and sadden me.</li>
<li><a href="http://techcrunch.com/2011/06/17/indian-village-renamed-snapdeal-com-and-its-not-a-cheap-marketing-stunt/">Indian Village Renamed Snapdeal.com. And It&#8217;s Not A Cheap Marketing Stunt!</a><br><span class="caps">IMHO</span> as long as people get helped, it doesn&#8217;t even matter if it&#8217;s a marketing stunt or not. More companies should do something for their local communities.</li>
<li><a href="http://pastebin.com/HZtH523f">LulzSec &#8211; 1000th tweet statement</a><br>Since LulzSec was all over the news this week, I decided to include their open letter. There also was an <a href="http://pastebin.com/pbhBQLKy">answer</a>.</li>
<li><a href="http://www.digitaltrends.com/computing/translation-technology-may-let-humans-speak-with-dolphins/">Translation technology may let humans speak with dolphins</a><br>That would be awesome.</li>
<li><a href="http://www.thecompulsiveliar.com/top-10-media-manipulation-strategies.html">Top 10 media manipulation strategies</a><br>A list compiled by Noam Chomsky.</li>
<li><a href="http://www.digitaltrends.com/computing/wow-high-school-grad-builds-8-bit-computer-from-scratch-complete-with-custom-os-and-pong/">High school grad builds 8-bit computer from scratch, complete with custom OS and Pong</a><br>Simply amazing, an 18 yo builds a computer from scratch and then implements a custom OS and some games.</li>
</ul></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/06/03/information-overload-2011-06-03/">Information Overload 2011-06-03</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-06-03T00:00:00+07:00" pubdate data-updated="true">Jun 3<sup>rd</sup>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Information Overload is a bit early this week and may be skipped altogether next Sunday. After that it should be back to the regular schedule.</p>
<ul>
<li><a href="http://dorophone.blogspot.com/2011/05/hyperturtle-monad-makes-pretty-pictures.html">A Hyperturtle Monad Makes Pretty Pictures</a><br>This article on monads isn&#8217;t only awesome because it develops a novel one instead of reiterating one of the well-known simple monads, but also because it does so using <a href="http://racket-lang.org/">Racket</a>.</li>
<li><a href="http://online.wsj.com/article/SB10001424052748704889404576277391449002016.html">Iran Vows to Unplug Internet</a><br>Not that it&#8217;s that suprising, but the amount of world wide censorship efforts we saw recently is shocking.</li>
<li><a href="http://www.guardian.co.uk/books/2011/may/21/jon-ronson-how-to-spot-a-psychopath">How to spot a psychopath</a><br>In case you ever wondered, you&#8217;ll find answers in this interesting article. As always, things are not really black and white, there&#8217;s a lot of gray in between.</li>
<li><a href="http://www.slate.com/id/2295413/">The Case&mdash;Please Hear Me Out&mdash;Against the Em Dash</a><br>What a delightful read, especially thanks to the ironic overuse of em-dashes. Personally I&#8217;m more of a parenthesis man.</li>
<li><a href="http://www.voxeu.org/index.php?q=node/6596">How the long-gone Habsburg Empire is still visible in Eastern European bureaucracies today</a><br>This is quite an interesting result, I want to read more on this.</li>
<li><a href="http://www.physorg.com/news/2011-05-track-secret-feral-free-roaming-house.html">Researchers track the secret lives of feral and free-roaming house cats</a><br>Cats are cool.</li>
<li><a href="http://flavorwire.com/180906/hacking-museums-our-retrospective-of-interventionists-and-crashers">Hacking Museums: Our Retrospective of Interventionists and Crashers</a><br>Stirring up emotion, provoking, pushing the limits, isn&#8217;t this what art really is about?</li>
<li><a href="http://lesswrong.com/lw/60y/action_and_habit/">Action and habit</a><br>Sometimes &#8220;This is just what I do&#8221; is a good answer after all. This is in the same vain as the article about ritualizing I posted not too long ago and is something I&#8217;ve observed in many smart people as a basically subconscious action.</li>
<li><a href="http://online.wsj.com/article/SB10001424052748703691804575254533386933138.html">Humans: Why They Triumphed</a><br>While it makes me somewhat wary when an economics magazine identifies trade as most important aspect of human evolution, the argument presented seems to have some merit, so I&#8217;ll let you make up your own mind.</li>
<li><a href="http://the-gay-bar.com/2011/06/01/eine-neue-hackerethik/">Eine neue Hackerethik</a><br>Trying to establish a new hacker ethic (in German).</li>
</ul></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/05/29/information-overload-2011-05-29/">Information Overload 2011-05-29</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-05-29T00:00:00+07:00" pubdate data-updated="true">May 29<sup>th</sup>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul>
<li><a href="http://www.businessweek.com/print/magazine/content/11_22/b4230064852768.htm">Red Bull&#8217;s Billionaire Maniac</a><br>Interesting article about Austrian entrepreneur and founder of Red Bull, Dietrich Mateschitz.</li>
<li><a href="http://www.slate.com/id/2295099/pagenum/all/">Prophecy Fail</a><br>How the human mind deals with failed prophecies.</li>
<li><a href="http://blogs.hbr.org/schwartz/2011/05/the-only-way-to-get-important.html">The Only Way to Get Important Things Done</a><br>That&#8217;s interesting, I noticed a similar pattern of ritual building in myself and it works really quite well.</li>
<li><a href="http://www.untoldentertainment.com/blog/2011/05/24/sissys-magical-ponycorn-adventure/">5-Year-Old Girl Makes Video Game</a><br>Awesome parenting, this is great!</li>
<li><a href="http://www.untoldentertainment.com/blog/2011/05/24/sissys-magical-ponycorn-adventure/">Depixelizing Pixel Art: Upscaling Retro 8-bit Games</a><br>There are some amazing results in there, I&#8217;ll definitely have to read the paper.</li>
<li><a href="http://www.wired.com/wiredscience/2011/05/ads-implant-false-memories/">Ads Implant False Memories</a><br>This is pretty fascinating, the human brain is full of wonder. On a side note I realized how few ads I&#8217;m exposed to due to not having a TV and mainly consuming newspapers and magazines through their web sites (with an ad blocker).</li>
<li><a href="http://www.zeit.de/politik/ausland/2011-05/fpoe-oesterreich-umfragen/seite-1">Heinz-Christian Strache &#8211; Aufstieg eines Hasspredigers</a><br>If you are not Austrian but can read German, this might be an interesting article about Austria&#8217;s right wing party which is currently leading the opinion polls.</li>
<li><a href="http://www.paulgraham.com/nerds.html">Why Nerds Are Unpolular</a><br>Very good article by Paul Graham. While my school was far (in fact very far) from perfect, I&#8217;m still glad I didn&#8217;t have to go to a US high-school.</li>
<li><a href="http://www.physorg.com/news/2011-04-scientists-spacetime-dimension.html">Scientists suggest spacetime has no time dimension</a><br>And this is why I like physics so much as a subject.</li>
<li><a href="http://www.dnaftb.org/"><span class="caps">DNA</span> From The Beginning</a><br>Interested in genetics? You&#8217;ll love this site!</li>
</ul></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/05/22/information-overload-2011-05-22/">Information Overload 2011-05-22</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-05-22T00:00:00+07:00" pubdate data-updated="true">May 22<sup>nd</sup>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul>
<li><a href="http://altdevblogaday.org/2011/05/17/understanding-the-fourier-transform/">Understanding the Fourier transform by Stuart Riffle</a><br>You know I&#8217;m a big fan of good (math) explanations and this is no exception. I really like the color coded formula!</li>
<li><a href="http://inoveryourhead.net/the-complete-guide-to-not-giving-a-fuck/">The Complete Guide to Not Giving a Fuck</a><br>Some good advice in there, but like with most things in life, the right balance is the key.</li>
<li><a href="http://www.scientificamerican.com/blog/post.cfm?id=you-can-increase-your-intelligence-2011-03-07">You can increase your intelligence: 5 ways to maximize your cognitive potential</a><br>Interesting article in the Scientific American. Funny tidbit: I regularly observe all the described behaviors in the hacker community, seems we are doing well in this regard.</li>
<li><a href="http://acko.net/blog/on-termkit">On TermKit</a><br>While I&#8217;m not sure I&#8217;d use this, it&#8217;s interesting to see the Unix terminal re-imagined.</li>
<li><a href="http://www.rollingstone.com/politics/news/the-people-vs-goldman-sachs-20110511">The People vs. Goldman Sachs</a><br>To get an idea what this is about, here&#8217;s a quote from the article: &#8220;This is America: Corporate stealing is practically the national pastime, and Goldman Sachs is far from the only company to get away with doing it&#8221;.</li>
<li><a href="http://www.foreignpolicy.com/articles/2011/04/25/how_food_explains_the_world?page=full">How Food Explains the World</a><br>I really like this Foreign Policy article on food, a topic we should really tackle on a global scale.</li>
<li><a href="http://www.cosmosmagazine.com/news/4321/first-habitable-exoplanet-confirmed">First &#8216;habitable&#8217; exoplanet confirmed</a><br>Don&#8217;t pack your bags just yet, but this is still cool.</li>
<li><a href="http://sz-magazin.sueddeutsche.de/texte/anzeigen/35651">Ein Job zum Davonlaufen</a><br>Police officer, a job to run away from? (in German)</li>
<li><a href="http://www.viceland.com/int/v18n5/htdocs/life-is-a-cosmic-giggle-803.php?page=1">Life is a cosmic giggle on the breath of the universe</a><br>Wow, once again real life is much more screwed up than TV. If you think <a href="http://en.wikipedia.org/wiki/Breaking_Bad">Breaking Bad</a> is hardcore, read this article/interview.</li>
<li><a href="http://science.nasa.gov/science-news/science-at-nasa/2011/04may_epic/"><span class="caps">NASA</span> Announces Results Of Epic Space-Time Experiment</a><br>47 years in the making, this experiment proves the existence of a space-time vortex around Earth.</li>
</ul></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/05/18/tom-and-michael-vs-the-monad/">Tom and Michael vs the Monad</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-05-18T00:00:00+07:00" pubdate data-updated="true">May 18<sup>th</sup>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So, over the last few weeks <a href="http://mrjaba.posterous.com/">Tom Crinson</a> and I read another paper, this time &#8220;The essence of functional programming&#8221; (available <a href="http://homepages.inf.ed.ac.uk/wadler/topics/monads.html">here</a>) by Philip Wadler, one of the principal designers of Haskell. Tom&#8217;s post is <a href="http://mrjaba.posterous.com/michael-and-tom-vs-the-monad">here</a>.</p>
<p><strong>The paper</strong></p>
<p>Don&#8217;t let yourself be fooled by the title, this is <strong>not</strong> an introduction to functional programming or lambda calculus. Instead it talks about monads, a topic one reads a lot about and that&#8217;s often made out to be a lot more complicated than it really is.</p>
<p>The whole paper is 23 pages long, so I won&#8217;t really summarize it all, but rather try to give you an idea if it might be an interesting read for you. Section 1 lays out some basics and explains the difference between pure and impure code. In section 2 the reader finally encounters the monad, defined using the usual triple <em>(M, unitM, bindM)</em>. After that we see several versions of a simple call-by-value interpreter, demonstrating various well-known monads (identity, state, error, list etc), as well as a rewrite of the interpreter to implement call-by-name semantics. For some more theory Wadler lays down the monadic laws and provides a definition of monads in terms of <em>mapM</em> and <em>joinM</em>.  He also mentions that list comprehension notation generalizes to arbitrary monads, which I found to be quite interesting. Section 3 introduces continuation passing style (<span class="caps">CPS</span>) and its relation to monads, before section 4 talks about the influence of monads on Haskell, including some cool info tidbits about early Haskell versions that seem to lack do-notation and the bind operator (the paper is from 1992 after all). Last but not least there&#8217;s the wrap-up and the work is put in context of other research.</p>
<p><strong>Takeaway</strong></p>
<p>Monads are not rocket science, they are just another tool in a programmer&#8217;s toolbox, especially of a programmer in a pure functional language. In the end, a monad really isn&#8217;t much more than a formalized computation, following certain rules like &#8220;I put in an A and get out a B, so what ever comes next has to take a B&#8221;. Ok, maybe that was a bit oversimplified, but it&#8217;s definitely not magic. In fact I wrote up an explanation for Tom, trying to get the basic idea across:</p>
<blockquote>
<p>If you imagine a Monad as some sort of box, UnitM is what puts an item into the box. Bind extracts such a value (M a), processes it with a function (a &#8594; M b) and returns another item in a box (M b). Why is that cool, because you can&#8217;t leave the box! If you think about it &#8211; and that&#8217;s an oversimplification &#8211; it&#8217;s a bit like aligning your types so you can chain method calls (just that Unit and Bind have to follow the Monadic laws). Imagine in Ruby you have an intermediary result but instead of returning a plain value OR an array, you always make sure to return [*values]. This way you can chain anything that expects an array, no matter how many intermediary values there were. That&#8217;s a bit like having an item wrapped up in some sort of array monad (once again, we are in oversimplification land here, but maybe the analogy helps).</p>
</blockquote>
<p><strong>Difficulty of the paper</strong></p>
<p>The author states that he assumes no previous knowledge of category theory or Haskell (the language used in the examples), but judging Tom&#8217;s reaction to the paper, I&#8217;m not convinced by that. For somebody who has seen Haskell before and/or has a basic understanding of Monads already this is a pretty good and easy to follow read though.</p>
<p><strong>Q&amp;A</strong></p>
<p>Since Tom had some trouble with the paper &#8211; but bravely fought his way through it &#8211; we exchanged quite some emails on the actual content. This is cool, because it&#8217;s exactly the reason we are doing this! First we needed to get some Haskell syntax out of the way:</p>
<blockquote>
<p>Let&#8217;s do it slow with actual Haskell (this is a stupid function though, you could just do add = (+)):</p>
<p>add :: Int &#8594; Int &#8594; Int<br />
add x y = x + y</p>
<p>This means that &#8220;add&#8221; is a function that takes two &#8220;Ints&#8221; and returns an &#8220;Int&#8221;. The value after the last &#8594; is the actual return value of the function. If you wonder about the intermediate arrows, that&#8217;s because Haskell functions technically only take one argument and return a new function which takes another argument etc.</p>
<p>So what happens when you call</p>
<p>add 5 6</p>
<p>is that &#8220;add&#8221; gets applied to the argument 5, which returns another function that looks roughly like (add y = 5 + y) which in the end returns the number 11. This is a result of Haskell being based on the lambda calculus, where the equivalent expression would be \x.\y.x+y. For practical purposes it&#8217;s enough to remember the following though: whatever goes before the last &#8594; are the arguments to the function, the thing after the last &#8594; is the return type.</p>
<p>What about polymorphic functions? Easy:</p>
<p>add :: (Num a) =&gt; a &#8594; a &#8594; a<br />
add x y = x + y</p>
<p>Here we just say that we take 2 arguments of type &#8220;a&#8221; and return another &#8220;a&#8221;, with the constraint that &#8220;a&#8221; has to be numeric.</p>
<p>Since it also is covered in the paper, here&#8217;s an example of a higher order function, good old map (that&#8217;s the same as Ruby&#8217;s map):</p>
<p>map :: (a &#8594; b) &#8594; [a] &#8594; [b]<br />
map f []     = []<br />
map f (x:xs) = f x : map f xs</p>
<p>This basically tells us that &#8220;map&#8221; takes two arguments. The first is itself a one-argument function ((a &#8594; b)) the second a list of values ([a]) and we return another list of values ([b]). Note that &#8220;a&#8221; and &#8220;b&#8221; can be the same type, but don&#8217;t have to be.</p>
</blockquote>
<p><em>Could you please, as simply as possible, define a Monad?</em><br />
I have to quote Brian Beckman on that, &#8220;Monads are a theory for interacting things&#8221;. Or to paraphrase, Monads are an abstraction that allows you to define how the various stages of a computation interact. It&#8217;s a sequence of operations, put into context.</p>
<p><em>What would you use a Monad for?</em><br />
As seen in the paper, Monads are quite a flexible abstraction and can be used for many different things (take for example the <a href="http://haskell.org/haskellwiki/MapReduce_as_a_monad">MapReduce Monad</a>). Personally I&#8217;ve never used one outside of my limited Haskell experience, but .Net developers may find it interesting to know that <a href="http://msdn.microsoft.com/en-us/library/bb397926.aspx"><span class="caps">LINQ</span></a> is a monad (more on that <a href="http://devhawk.net/2008/07/30/monadic-philosophy-part-2-the-linq-monad/">here</a>).</p>
<p><em>Can I use them in Ruby?</em><br />
You can, in fact there&#8217;s a link listed below that shows simple Monads implemented in Ruby. It&#8217;s more a question of how useful they actually are in a mostly object oriented language that allows for side-effects.</p>
<p><em>If I wanted to learn more about this sort of thing where should I go?</em><br />
Brian Beckman recorded an <a href="http://channel9.msdn.com/Shows/Going+Deep/Brian-Beckman-Dont-fear-the-Monads">awesome 67 minute video</a> on the topic, which is probably the best introduction I ever saw.</p>
<p><strong>Links</strong></p>
<ul>
<li><a href="http://en.wikipedia.org/wiki/Monad_(functional_programming)">Wikipedia: Monad (functional programming)</a></li>
<li><a href="http://en.wikipedia.org/wiki/Continuation-passing_style">Wikipedia: Continuation-passing style</a></li>
<li><a href="http://en.wikipedia.org/wiki/Call-with-current-continuation">Call-with-current-continuation</a></li>
<li><a href="http://www.ruby-doc.org/core/classes/Kernel.html#M001422">call/cc in Ruby</a></li>
<li><a href="http://en.wikipedia.org/wiki/List_comprehension">Wikipedia: List comprehension</a></li>
<li><a href="http://channel9.msdn.com/Shows/Going+Deep/Brian-Beckman-Dont-fear-the-Monads">Brian Beckman: Don&#8217;t fear the Monad</a></li>
<li><a href="http://moonbase.rydia.net/mental/writings/programming/monads-in-ruby/00introduction.html">Monads in Ruby</a></li>
</ul></div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/14">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/12">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>About citizen428</h1>
  <p>I&#8217;m Michael Kohl, generally known as citizen428 online. I mainly
  write about programming, and do a regular <a href="/blog/categories/informationoverload/">blog post series</a> collecting interesting
  articles I enjoyed throughout the week.</p>
<div id="social_media_icons" align="center">
<a href="http://twitter.com/citizen428"><img src="/images/icons/twitter.png"
                                             alt="Twitter" /></a>
<a href="https://plus.google.com/u/0/101046237539584353961/posts"><img src="/images/icons/google.png"
                                             alt="Twitter"
                                             /></a>
<a href="http://www.linkedin.com/in/citizen428"><img src="/images/icons/linkedin.png"
                                             alt="Twitter" /></a>
</div>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/10/05/information-overload-2014-10-05/">Information Overload 2014-10-05</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/28/information-overload-2014-09-28/">Information Overload 2014-09-28</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/21/information-overload-2014-09-21/">Information Overload 2014-09-21</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/08/17/re-kindling-my-love-affair-with-the-kindle-fire/">Re-kindling My Love Affair With the Kindle Fire</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/05/08/vcr/">VCR Case Woes</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("citizen428", 3, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/citizen428" class="twitter-follow-button" data-show-count="true">Follow @citizen428</a>
  
</section>


<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/citizen428">@citizen428</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'citizen428',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Michael Kohl -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'citizen428-blog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
