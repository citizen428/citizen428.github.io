
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>citizen428.blog()</title>
  <meta name="author" content="Michael Kohl">

  
  <meta name="description" content="These Stunning Photos of Greenland&rsquo;s &ldquo;Dark Snow&rdquo; Should Worry You
Climate change in the Arctic.
Is China’s Market-State Juggernaut &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.citizen428.net">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="citizen428.blog()" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<meta name="google-site-verification" content="bArHZu2u3n3GxMD_LR02GfyzeA-nYFOuaBuDbfJT07U" />
<meta name="verify-postrank" content="q9zqqyw" />
<link rel="openid.server" href="http://www.myopenid.com/server" />
<link rel="openid.delegate" href="http://citizen428.myopenid.com/" />


  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1416057-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">citizen428.blog()</a></h1>
  
    <h2>Try to learn something about everything</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.citizen428.net" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about/">About</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/projects">Projects</a></li>
  <li><a href="/talks_and_publications">Output</a></li>
  <li><a href="/studynotes">Study Notes</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/imprint/">Imprint</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/09/28/information-overload-2014-09-28/">Information Overload 2014-09-28</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-09-28T00:00:00+07:00" pubdate data-updated="true">Sep 28<sup>th</sup>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul>
<li><a href="http://www.motherjones.com/environment/2014/09/why-greenland-dark-snow-should-worry-you">These Stunning Photos of Greenland&rsquo;s &ldquo;Dark Snow&rdquo; Should Worry You</a><br>
Climate change in the Arctic.</li>
<li><a href="http://thediplomat.com/2014/09/is-chinas-market-state-juggernaut-grinding-to-a-halt/">Is China’s Market-State Juggernaut Grinding to a Halt?</a><br>
Personally I&rsquo;m not convinced by the argument, but that doesn&rsquo;t mean I can&rsquo;t share the article.</li>
<li><a href="http://www.faz.net/aktuell/gesellschaft/menschen/egoistische-zweisamkeit-ersatzreligion-liebe-13152087.html">Ersatzreligion Liebe</a><br>
A very interesting and critical article about romantic love (in German).</li>
<li><a href="http://www.theguardian.com/news/datablog/2014/sep/24/global-middle-class-nears-one-billion-mark">Global middle class nears one billion mark</a><br>
Very interesting and certainly challenged some of my perceptions/expectations.</li>
<li><a href="http://www.nytimes.com/2014/09/17/opinion/israels-nsa-scandal.html">Israel’s N.S.A. Scandal</a><br>
A NYT op-ed related to the Snowden leaks.</li>
<li><a href="http://www.zeit.de/zeit-magazin/2014/38/sigmund-freud-psychoanalyse-traumdeutung-stefan-klein">&ldquo;Traumdeutung ist der Königsweg zur Seele&rdquo;</a><br>
A German language article about Sigmund Freud, written in a quite original way.</li>
<li><a href="http://pda.sciencealert.com.au/news/20142609-26244.html">Mantis shrimps can see cancer, and scientists have now created a camera that does the same</a><br>
These cameras could play an important role in non-evasive cancer detection.</li>
<li><a href="http://thediplomat.com/2014/09/the-real-reason-al-qaeda-is-establishing-an-india-branch/">The Real Reason al-Qaeda Is Establishing an India Branch</a><br>
If the assumptions in this article are correct AQC seems to think very long term and strategically.</li>
<li><a href="http://www.theguardian.com/cities/2014/sep/05/the-soviet-city-is-dead-long-live-beijing">The Soviet city is dead: long live Beijing</a><br>
On urbanism and city planning in Soviet Russia and China.</li>
<li><a href="http://www.gamasutra.com/view/feature/132517/the_rise_and_fall_of_the_dreamcast.php">The Rise And Fall Of The Dreamcast</a><br>
The Dreamcast was my favorite console and will always have a special place in my heart.</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/09/21/information-overload-2014-09-21/">Information Overload 2014-09-21</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-09-21T12:00:00+07:00" pubdate data-updated="true">Sep 21<sup>st</sup>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>After an almost 2 year hiatus, it&rsquo;s time to revive this series, although I&rsquo;m not yet sure if it&rsquo;s going to be weekly again.</p>

<ul>
<li><a href="http://io9.com/10-lessons-from-real-life-revolutions-that-fictional-dy-1634087647">10 Lessons From Real-Life Revolutions That Fictional Dystopias Ignore</a><br>
Ignoring artistic license, there are some interesting points here regarding real life revolutions.</li>
<li><a href="http://vimeo.com/102051605">Enter Pyongyang</a><br>
An interesting video about the normally extremely secluded DPRK.</li>
<li><a href="http://www.nytimes.com/interactive/2014/09/16/world/middleeast/how-isis-works.html">How ISIS Works</a><br>
Some background information on organization, finances, etc.</li>
<li><a href="http://www.theguardian.com/cities/2014/sep/03/mongolia-ulanbaatar-ger-yurt-tent-city">Life in Ulaanbaatar&rsquo;s tent city is hard</a><br>
A nice piece on the tent slums of Ulaanbaatar.</li>
<li><a href="http://www.theguardian.com/artanddesign/gallery/2014/sep/03/tunisian-street-art-in-pictures">Tunisian street art &ndash; in pictures</a><br>
Amazing pictures from the &ldquo;Djerbahood&rdquo; project.</li>
<li><a href="https://medium.com/everything-about-startups-and-entrepreneurship/how-quitting-my-corporate-job-for-my-startup-dream-f-cked-my-life-up-3b6b3e29b318">How quitting my corporate job for my startup dream f*cked my life up</a><br>
IMHO one of the more reasonable startups pieces I read lately.</li>
<li><a href="http://www.theatlantic.com/national/archive/2014/09/in-cambridge-md-a-soviet-style-punishment-for-a-novelist/379431/">In Maryland, a Soviet-Style Punishment for a Novelist</a><br>
The times they are a-changin&#8217;&hellip;</li>
<li><a href="http://www.electronicbeats.net/en/features/monologues/sound-is-a-weapon-alec-empire/">&ldquo;Music is a weapon&rdquo; – Alec Empire on Digital Hardcore</a><br>
A good read not only for ATR fans.</li>
<li><a href="http://www.theguardian.com/cities/2014/sep/19/khartoum-most-selfish-city-sudan-arab-capital">Khartoum: the most selfish city?</a><br>
This article certainly enhanced my limited understanding of Sudanese issues.</li>
<li><a href="http://sea-globe.com/stir-crazy-thailand-prisons-southeast-asia-globe/">Stir crazy</a><br>
The SEA Globe writes about the Thai prison system.</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/17/re-kindling-my-love-affair-with-the-kindle-fire/">Re-kindling My Love Affair With the Kindle Fire</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-17T18:19:31+07:00" pubdate data-updated="true">Aug 17<sup>th</sup>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>When I originally bought my Kindle Fire HD 7&#8221;, I was madly in love with it. However, after the initial euphoria was over, I got very annoyed with the dumbed down user interface and the limited availability of apps in Amazon&rsquo;s app store.</p>

<p>So yesterday morning I finally set aside around 2 hours to do the following:</p>

<ul>
<li>Root the device (<a href="http://forum.xda-developers.com/showthread.php?t=2074565">How To: Root the Kindle Fire 7&#8221; HD or 2 with Linux/MAC</a>)</li>
<li>Install Google Play (<a href="http://forum.xda-developers.com/showthread.php?t=2069329">Install Google Play Store Noob (Simple) Version</a>)</li>
<li>Install <a href="http://novalauncher.com/">Nova Launcher</a> (<a href="http://forum.xda-developers.com/showthread.php?t=1955586">Nova Launcher on the KFHD7!</a>)</li>
<li>Disable OTA updates (<a href="http://androidcowboy.com/2013/06/how-to-disable-amazon-ota-updates/">How to Disable Amazon OTA Updates</a>)</li>
</ul>


<p>All in all the process went pretty smoothly and I now I have a mostly uncrippled Android tablet. There are some small glitches, but they are certainly less annoying than having a very limited device. At first I couldn&rsquo;t get the Kindle app to run (it&rsquo;s a modified version that&rsquo;s pretty tied to the Fire&rsquo;s native launcher), but after a bit of fiddling around it&rsquo;s now working. Some people also opt for not selecting any launcher as default action for the home button, so they can easily switch between the Kindle experience and a more tablet like launcher.</p>

<p>If you own a Kindle Fire that you don&rsquo;t use much maybe you should give rooting a try, it may re-kindle your interest in the device.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/08/vcr/">VCR Case Woes</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-08T22:32:55+07:00" pubdate data-updated="true">May 8<sup>th</sup>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Today I spent quite some time on a rather hard to track down problem. I had some specs using <a href="">VCR</a>, which worked perfectly locally, but just wouldn&rsquo;t run on <a href="https://circleci.com/">CircleCI</a>. In fact, it seemed like CircleCI didn&rsquo;t in fact use the VCR cassettes at all, but instead make a real API call, which failed because the necessary credentials weren&rsquo;t available in the environment (which was kinda the point of using VCR in the first place).</p>

<p>Turns out the problem lay in the combination of using the VCR setting <code>configure_rspec_metadata!</code> and the option <code>core.ignorecase = true</code>, which is standard in newer versions of <a href="http://git-scm.com/">Git</a>. What happened was that at one point I changed the case of a word in a test description, which changes the auto-generated name of the folder VCR will create the cassette in. But since the folder name wasn&rsquo;t changed from git&rsquo;s perspective, I never realized that. So when the code was checked out on CircleCI, VCR encountered the spec with the metadata (<code>vcr: true</code>), but couldn&rsquo;t find the cassette since the checked out folder had the wrong case. It therefore proceeded to run the spec against the live API which failed.</p>

<p>All in all this cost me about 1.5 hours, and I only managed to find a solution thanks to a helpful colleague and CircleCI&rsquo;s option of letting you SSH into the machine the tests run on, which is how we discovered the second folder that was created.</p>

<p>TIL that git&rsquo;s not case-sensitive. I&rsquo;d rather have found out another way.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/01/01/2013-reading-list/">2013 Reading List</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-01-01T16:52:04+07:00" pubdate data-updated="true">Jan 1<sup>st</sup>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Same post as every year, here are the book I read last year. However, this time around there are several novelties: first off, my Spanish got good enough to actually read books, so there are 3 languages now (English, German, Spanish). Also my Kindle Fire allowed me to get back into comics, so I (re-)read a lot of the classics and great stuff I missed out on over the years. Last but not least this is also the year where I started listening to audiobooks, mostly because they are really practical on long bus journeys because they keep you occupied but you can still enjoy the landscape.</p>

<p>The links are affiliate links by the way, I have to finance my reading habit somehow ;&ndash;)</p>

<h2>Books:</h2>

<ul>
<li><a href="http://www.amazon.com/gp/product/B003WUYQG4/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B003WUYQG4&amp;linkCode=as2&amp;tag=citizen4blog-20">Fear and Loathing in Las Vegas</a>, Hunter S. Thompson</li>
<li><a href="http://www.amazon.com/gp/product/B002PMVY42/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B002PMVY42&amp;linkCode=as2&amp;tag=citizen4blog-20">Chronic City</a>, Jonathan Lethem</li>
<li><a href="http://www.amazon.com/gp/product/B005AJWU7C/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B005AJWU7C&amp;linkCode=as2&amp;tag=citizen4blog-20">The Sheltering Sky</a>, Paul Bowles</li>
<li><a href="http://www.amazon.com/gp/product/B0043RSJMC/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B0043RSJMC&amp;linkCode=as2&amp;tag=citizen4blog-20">Eleven</a>, Mark Watson</li>
<li><a href="http://www.amazon.com/gp/product/B007QQBRXU/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B007QQBRXU&amp;linkCode=as2&amp;tag=citizen4blog-20">Aristoi</a>, Walter Jon Williams</li>
<li><a href="http://www.amazon.com/gp/product/B00EJRU0LO/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00EJRU0LO&amp;linkCode=as2&amp;tag=citizen4blog-20">Sin noticias de Gurb</a>,
Eduardo Mendoza (Spanish)</li>
<li><a href="http://www.amazon.com/gp/product/B001L83PLQ/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B001L83PLQ&amp;linkCode=as2&amp;tag=citizen4blog-20">Half of a Yellow Sun</a>, Chimamanda Ngozi Adichie</li>
<li><a href="http://www.amazon.com/gp/product/B004Q9U0MY/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B004Q9U0MY&amp;linkCode=as2&amp;tag=citizen4blog-20">Essays in Humanism</a>, Albert Einstein</li>
<li><a href="http://www.amazon.com/gp/product/B00BH51HWW/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00BH51HWW&amp;linkCode=as2&amp;tag=citizen4blog-20">The Legend of Sleepy Hollow</a>, Washington Irving</li>
<li><a href="http://www.amazon.com/gp/product/B0036S4C6G/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B0036S4C6G&amp;linkCode=as2&amp;tag=citizen4blog-20">A Visit from the Goon Squad</a>, Jennifer Egan</li>
<li><a href="http://www.amazon.com/gp/product/B004QGYWIA/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B004QGYWIA&amp;linkCode=as2&amp;tag=citizen4blog-20">The Bad Girl</a>, Mario Vargas Llosa</li>
<li><a href="http://www.amazon.com/gp/product/0763624217/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0763624217&amp;linkCode=as2&amp;tag=citizen4blog-20">Dog</a>, Daniel Pennac</li>
<li><a href="http://www.amazon.com/gp/product/B008NED4TO/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B008NED4TO&amp;linkCode=as2&amp;tag=citizen4blog-20">An Easy Thing</a>, Paco Ignacio Taibo II</li>
<li><a href="http://www.amazon.com/gp/product/B007QRCX14/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B007QRCX14&amp;linkCode=as2&amp;tag=citizen4blog-20">One Life To Ride</a>, Ajit Harisinghani</li>
<li><a href="http://www.amazon.com/gp/product/0060920084/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0060920084&amp;linkCode=as2&amp;tag=citizen4blog-20">The Lost Continent</a>, Bill Bryson</li>
<li><a href="http://www.amazon.com/gp/product/3499248212/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=3499248212&amp;linkCode=as2&amp;tag=citizen4blog-20">Reise durch einen einsamen Kontinent</a>, Andreas Altmann</li>
<li><a href="http://www.amazon.com/gp/product/B004KPM1LM/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B004KPM1LM&amp;linkCode=as2&amp;tag=citizen4blog-20">Damned</a>, Chuck Palahniuk</li>
<li><a href="http://www.amazon.com/gp/product/8434843544/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=8434843544&amp;linkCode=as2&amp;tag=citizen4blog-20">El Rey Solito</a>, Rafael Estrada (Spanish)</li>
<li><a href="http://www.amazon.com/gp/product/B0000BHOB9/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B0000BHOB9&amp;linkCode=as2&amp;tag=citizen4blog-20">Bhakta &ndash; Eine indische Odysee</a>, Walther Eidlitz</li>
<li><a href="http://www.amazon.com/gp/product/B003E749SA/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B003E749SA&amp;linkCode=as2&amp;tag=citizen4blog-20">Food Inc.: A Participant Guide</a>, Karl Weber</li>
<li><a href="http://www.amazon.com/gp/product/B003WEA0EM/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B003WEA0EM&amp;linkCode=as2&amp;tag=citizen4blog-20">La Ultima Jugada</a>, Fernando Trujillo Sanz (Spanish)</li>
<li><a href="http://www.amazon.com/gp/product/B000JMKNQK/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B000JMKNQK&amp;linkCode=as2&amp;tag=citizen4blog-20">American Empire: Blood &amp; Iron</a>, Harry Turtledove</li>
<li><a href="http://www.amazon.com/gp/product/9875667757/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=9875667757&amp;linkCode=as2&amp;tag=citizen4blog-20">El club de la pelea</a>, Chuck Palahniuk (Spanish)</li>
<li><a href="http://www.amazon.com/gp/product/B002361MLA/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;cr">The Power of Now: A Guide to Spiritual Enlightenment</a>, Eckhart Tolle</li>
<li><a href="http://www.amazon.com/gp/product/0307278042/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0307278042&amp;linkCode=as2&amp;tag=citizen4blog-20">Delirium</a>, Laura Restrepo</li>
<li><a href="http://www.amazon.com/gp/product/B004TRQ996/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B004TRQ996&amp;linkCode=as2&amp;tag=citizen4blog-20">Myths and Legends of All Nations</a>, Logan Marshall</li>
<li><a href="http://www.amazon.com/gp/product/B003ZSIT0M/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B003ZSIT0M&amp;linkCode=as2&amp;tag=citizen4blog-20">Zoo City</a>, Lauren Beukes</li>
<li><a href="http://www.amazon.com/gp/product/B00AFW4XRY/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00AFW4XRY&amp;linkCode=as2&amp;tag=citizen4blog-20">The Impressionist</a>, Hari Kunzru</li>
<li><a href="http://www.amazon.com/gp/product/B002MQYOFW/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B002MQYOFW&amp;linkCode=as2&amp;tag=citizen4blog-20">The Hunger Games</a>, Suzanne Collins</li>
<li><a href="http://www.amazon.com/gp/product/B00AUWJEKA/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00AUWJEKA&amp;linkCode=as2&amp;tag=citizen4blog-20">Fundamental Chess Patterns</a>, Rodolfo Pardi</li>
<li><a href="http://www.amazon.com/gp/product/B0046ZRG0M/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B0046ZRG0M&amp;linkCode=as2&amp;tag=citizen4blog-20">First They Killed My Father</a>, Loung Ung</li>
<li><a href="http://www.amazon.com/gp/product/B008BU6XV6/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B008BU6XV6&amp;linkCode=as2&amp;tag=citizen4blog-20">Mi primera vez</a>, Juan Goytisolo et al. (Spanish)</li>
<li><a href="http://www.amazon.com/gp/product/B002KJA97I/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B002KJA97I&amp;linkCode=as2&amp;tag=citizen4blog-20">Mother Night</a>, Kurt Vonnegut</li>
<li><a href="http://www.amazon.com/gp/product/B0012GTZC0/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B0012GTZC0&amp;linkCode=as2&amp;tag=citizen4blog-20">Eye of the Needle</a>, Ken Follett</li>
<li>The Awakening of Lovingkindness: Chin Kung</li>
<li>Essence of Islam: Islamic Propagation Centre International Malaysia</li>
<li><a href="http://www.amazon.com/gp/product/B000FC22M2/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B000FC22M2&amp;linkCode=as2&amp;tag=citizen4blog-20">Bhagavad-Gita</a>, Edwin Arnold</li>
<li><a href="http://www.amazon.com/gp/product/8495618389/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=8495618389&amp;linkCode=as2&amp;tag=citizen4blog-20">La Primera Detective De Botsuana</a>, Alexander McCall Smith (Spanish)</li>
<li><a href="http://www.amazon.com/gp/product/B0019O6IWU/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B0019O6IWU&amp;linkCode=as2&amp;tag=citizen4blog-20">Nonviolent Communication</a>, Marshall B. Rosenberg</li>
<li><a href="http://www.amazon.com/gp/product/B00GK5P6L2/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00GK5P6L2&amp;linkCode=as2&amp;tag=citizen4blog-20">Ruby Under a Microscope</a>, Pat Shaughnessy</li>
<li><a href="http://www.amazon.com/gp/product/B0081BTOJS/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B0081BTOJS&amp;linkCode=as2&amp;tag=citizen4blog-20">The Magus</a>, John Fowles</li>
<li><a href="http://www.amazon.com/gp/product/3351032056/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=3351032056&amp;linkCode=as2&amp;tag=citizen4blog-20">Die Dritte Jungfrau</a>, Fred Vargas</li>
<li><a href="http://www.amazon.com/gp/product/B003SHDM8O/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B003SHDM8O&amp;linkCode=as2&amp;tag=citizen4blog-20">Tao Te Ching</a>, Lao Tzu</li>
<li><a href="http://www.amazon.com/gp/product/B005307LJA/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B005307LJA&amp;linkCode=as2&amp;tag=citizen4blog-20">Hello Kitty Must Die</a>, Angela S. Choi</li>
<li><a href="http://www.amazon.com/gp/product/B0044R96OQ/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B0044R96OQ&amp;linkCode=as2&amp;tag=citizen4blog-20">The Geography of Thought</a>, Richard E. Nisbett</li>
<li><a href="http://www.amazon.com/gp/product/B004AHK9ZA/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B004AHK9ZA&amp;linkCode=as2&amp;tag=citizen4blog-20">Machine of Death</a>, Ryan North</li>
<li><a href="http://www.amazon.com/gp/product/B008VDNUNC/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B008VDNUNC&amp;linkCode=as2&amp;tag=citizen4blog-20">The Paranoid&rsquo;s Pocket Guide</a>, Cameron Tuttle</li>
<li><a href="http://www.amazon.com/gp/product/B003H4I4JU/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B003H4I4JU&amp;linkCode=as2&amp;tag=citizen4blog-20">Speaker for the Dead</a>, Orson Scott Card</li>
<li><a href="http://www.amazon.com/gp/product/B005X0K520/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B005X0K520&amp;linkCode=as2&amp;tag=citizen4blog-20">Year Zero</a>, Rob  Reid</li>
<li><a href="http://www.amazon.com/gp/product/B004EPZ6CE/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B004EPZ6CE&amp;linkCode=as2&amp;tag=citizen4blog-20">The Tiger&rsquo;s Wife</a>, Téa Obreht</li>
<li><a href="http://www.amazon.com/gp/product/B000OI1AEI/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B000OI1AEI&amp;linkCode=as2&amp;tag=citizen4blog-20">The Bird Artist</a>, Howard Norman</li>
<li><a href="http://www.amazon.com/gp/product/B000FCKENQ/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B000FCKENQ&amp;linkCode=as2&amp;tag=citizen4blog-20">Anansi Boys</a>, Neil Gaiman</li>
<li><a href="http://www.amazon.com/gp/product/B00AEUH112/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00AEUH112&amp;linkCode=as2&amp;tag=citizen4blog-20">AfroSF: Science Fiction by African Writers</a>, Ivor W. Hartmann</li>
</ul>


<h2>Comics:</h2>

<ul>
<li><a href="http://www.amazon.com/gp/product/B009POHIE8/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B009POHIE8&amp;linkCode=as2&amp;tag=citizen4blog-20">Transmetropolitan, Vol. 1: Back on the Street</a>, Warren Ellis</li>
<li><a href="http://www.amazon.com/gp/product/B009POHJ5Q/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B009POHJ5Q&amp;linkCode=as2&amp;tag=citizen4blog-20">Transmetropolitan, Vol. 2: Lust for Life</a>, Warren Ellis</li>
<li><a href="http://www.amazon.com/gp/product/B009POHJVA/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B009POHJVA&amp;linkCode=as2&amp;tag=citizen4blog-20">Transmetropolitan, Vol. 3: Year of the Bastard</a>, Warren Ellis</li>
<li><a href="http://www.amazon.com/gp/product/B009POHJXS/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B009POHJXS&amp;linkCode=as2&amp;tag=citizen4blog-20">Transmetropolitan, Vol. 4: The New Scum</a>, Warren Ellis</li>
<li><a href="http://www.amazon.com/gp/product/0394747232/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0394747232&amp;linkCode=as2&amp;tag=citizen4blog-20">Maus 1: A Survivor&rsquo;s Tale</a>, Art Spiegelman</li>
<li><a href="http://www.amazon.com/gp/product/0679729771/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0679729771&amp;linkCode=as2&amp;tag=citizen4blog-20">Maus, Vol. 2: And Here My Troubles Began</a>, Art Spiegelman</li>
<li><a href="http://www.amazon.com/gp/product/1401228194/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=1401228194&amp;linkCode=as2&amp;tag=citizen4blog-20">Transmetropolitan, Vol. 5: Lonely City</a>, Warren Ellis</li>
<li><a href="http://www.amazon.com/gp/product/B00BQOB1CU/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00BQOB1CU&amp;linkCode=as2&amp;tag=citizen4blog-20">Transmetropolitan, Vol. 6: Gouge Away</a>, Warren Ellis</li>
<li><a href="http://www.amazon.com/gp/product/B0064W65UM/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B0064W65UM&amp;linkCode=as2&amp;tag=citizen4blog-20">V for Vendetta</a>, Alan Moore</li>
<li><a href="http://www.amazon.com/gp/product/B00BWZ2YIS/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00BWZ2YIS&amp;linkCode=as2&amp;tag=citizen4blog-20">Transmetropolitan, Vol. 7: Spider&rsquo;s Thrash</a>, Warren Ellis</li>
<li><a href="http://www.amazon.com/gp/product/B0064W66HY/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B0064W66HY&amp;linkCode=as2&amp;tag=citizen4blog-20">Batman: The Dark Knight Returns</a>, Frank Miller</li>
<li><a href="http://www.amazon.com/gp/product/B00D7X9PZI/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00D7X9PZI&amp;linkCode=as2&amp;tag=citizen4blog-20">Lex Luthor: Man of Steel</a>, Brian Azzarello</li>
<li><a href="http://www.amazon.com/gp/product/B00A820WEY/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00A820WEY&amp;linkCode=as2&amp;tag=citizen4blog-20">Betrayal, Vol. 1</a>, Scott Allie</li>
<li><a href="http://www.amazon.com/gp/product/1401229360/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=1401229360&amp;linkCode=as2&amp;tag=citizen4blog-20">Transmetropolitan, Vol. 8: Dirge</a>, Warren Ellis</li>
<li><a href="http://www.amazon.com/gp/product/1401230490/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=1401230490&amp;linkCode=as2&amp;tag=citizen4blog-20">Transmetropolitan, Vol. 9: The Cure</a>, Warren Ellis</li>
<li><a href="http://www.amazon.com/gp/product/037571457X/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=037571457X&amp;linkCode=as2&amp;tag=citizen4blog-20">Persepolis: The Story of a Childhood</a>, Marjane Satrapi</li>
<li><a href="http://www.amazon.com/gp/product/0375714669/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0375714669&amp;linkCode=as2&amp;tag=citizen4blog-20">Persepolis 2: The Story of a Return</a>, Marjane Satrapi</li>
<li><a href="http://www.amazon.com/gp/product/1401231241/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=1401231241&amp;linkCode=as2&amp;tag=citizen4blog-20">Transmetropolitan, Vol. 10: One More Time</a>, Warren Ellis</li>
<li><a href="http://www.amazon.com/gp/product/B00A820W26/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00A820W26&amp;linkCode=as2&amp;tag=citizen4blog-20">Crimson Empire, Volume 1</a>, Mike Richardson</li>
<li><a href="http://www.amazon.com/gp/product/0060825456/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0060825456&amp;linkCode=as2&amp;tag=citizen4blog-20">Coraline</a>, P. Craig Russell</li>
<li><a href="http://www.amazon.com/gp/product/0615314465/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0615314465&amp;linkCode=as2&amp;tag=citizen4blog-20">xkcd: volume 0</a>, Randall Munroe</li>
<li><a href="http://www.amazon.com/gp/product/B0064W65N4/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B0064W65N4&amp;linkCode=as2&amp;tag=citizen4blog-20">American Vampire Vol. 1</a>, Scott Snyder</li>
<li><a href="http://www.amazon.com/gp/product/B00CF5BJTO/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00CF5BJTO&amp;linkCode=as2&amp;tag=citizen4blog-20">Blacksad</a>, Juan Díaz Canales</li>
<li><a href="http://www.amazon.com/gp/product/B00CF5BJTY/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00CF5BJTY&amp;linkCode=as2&amp;tag=citizen4blog-20">Blacksad: A Silent Hell</a>, Juan Díaz Canales</li>
<li><a href="http://www.amazon.com/gp/product/1607065983/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=1607065983&amp;linkCode=as2&amp;tag=citizen4blog-20">Mind the Gap, Vol. 1: Intimate Strangers</a>, Jim McCann</li>
<li><a href="http://www.amazon.com/gp/product/B00A7H2NC4/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00A7H2NC4&amp;linkCode=as2&amp;tag=citizen4blog-20">Sin City, Vol. 1: The Hard Goodbye</a>, Frank Miller</li>
<li><a href="http://www.amazon.com/gp/product/1607067331/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=1607067331&amp;linkCode=as2&amp;tag=citizen4blog-20">Mind the Gap Volume 2: Wish You Were Here</a>, Jim McCann</li>
<li><a href="http://www.amazon.com/gp/product/B00A7H2NLA/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00A7H2NLA&amp;linkCode=as2&amp;tag=citizen4blog-20">Sin City, Vol. 2: A Dame to Kill For</a>, Frank Miller</li>
<li><a href="http://www.amazon.com/gp/product/B00A7H2NHE/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00A7H2NHE&amp;linkCode=as2&amp;tag=citizen4blog-20">Sin City, Vol. 3: The Big Fat Kill</a>, Frank Miller</li>
<li><a href="http://www.amazon.com/gp/product/B00A7H2ODM/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00A7H2ODM&amp;linkCode=as2&amp;tag=citizen4blog-20">Sin City, Vol. 4: That Yellow Bastard</a>, Frank Miller</li>
<li><a href="http://www.amazon.com/gp/product/0375714685/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0375714685&amp;linkCode=as2&amp;tag=citizen4blog-20">Epileptic</a>, David B.</li>
<li><a href="http://www.amazon.com/gp/product/B00CWGLOY6/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00CWGLOY6&amp;linkCode=as2&amp;tag=citizen4blog-20">Saga, Volume 1</a>, Brian K. Vaughan</li>
<li><a href="http://www.amazon.com/gp/product/B00DHIFKZM/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00DHIFKZM&amp;linkCode=as2&amp;tag=citizen4blog-20">Saga, Volume 2</a>, Brian K. Vaughan</li>
<li><a href="http://www.amazon.com/gp/product/1607068117/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=1607068117&amp;linkCode=as2&amp;tag=citizen4blog-20">Mind the Gap Volume 3: Out of Bodies TP</a>, Jim McCann</li>
<li><a href="http://www.amazon.com/gp/product/0618871713/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0618871713&amp;linkCode=as2&amp;tag=citizen4blog-20">Fun Home</a>, Alison Bechdel</li>
<li><a href="http://www.amazon.com/gp/product/B00A7H2OFU/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00A7H2OFU&amp;linkCode=as2&amp;tag=citizen4blog-20">Sin City, Vol. 5: Family Values</a>, Frank Miller</li>
<li><a href="http://www.amazon.com/gp/product/B00A7H2OHS/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00A7H2OHS&amp;linkCode=as2&amp;tag=citizen4blog-20">Sin City, Vol. 6: Booze, Broads, and Bullets</a>, Frank Miller</li>
<li><a href="http://www.amazon.com/gp/product/B00A7H2OL4/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00A7H2OL4&amp;linkCode=as2&amp;tag=citizen4blog-20">Sin City, Vol. 7: Hell and Back</a>, Frank Miller</li>
<li><a href="http://www.amazon.com/gp/product/B0064W667Y/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B0064W667Y&amp;linkCode=as2&amp;tag=citizen4blog-20">Fables, Vol. 1: Legends in Exile</a>, Bill Willingham</li>
<li><a href="http://www.amazon.com/gp/product/0785111751/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0785111751&amp;linkCode=as2&amp;tag=citizen4blog-20">Thor MAX: Vikings</a>, Garth Ennis</li>
<li><a href="http://www.amazon.com/gp/product/098285370X/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=098285370X&amp;linkCode=as2&amp;tag=citizen4blog-20">Save Yourself, Mammal!</a>, Zach Weiner</li>
<li><a href="http://www.amazon.com/gp/product/0982853718/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0982853718&amp;linkCode=as2&amp;tag=citizen4blog-20">The Most Dangerous Game</a>, Zach Weiner</li>
<li><a href="http://www.amazon.com/gp/product/B005CRQ2IU/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B005CRQ2IU&amp;linkCode=as2&amp;tag=citizen4blog-20">Watchmen</a>, Alan Moore</li>
<li><a href="http://www.amazon.com/gp/product/B00GTG4776/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00GTG4776&amp;linkCode=as2&amp;tag=citizen4blog-20">Doraemon, Vol. 1</a>, Fujiko F. Fujio</li>
<li><a href="http://www.amazon.com/gp/product/B00HFMB8BQ/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00HFMB8BQ&amp;linkCode=as2&amp;tag=citizen4blog-20">Doraemon, Vol. 2</a>,  Fujiko F. Fujio</li>
<li><a href="http://www.amazon.com/gp/product/B0064W64RQ/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B0064W64RQ&amp;linkCode=as2&amp;tag=citizen4blog-20">Fables Vol. 2: Animal Farm</a>, Bill Willingham</li>
<li><a href="http://www.amazon.com/gp/product/B00HFMB8AW/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B00HFMB8AW&amp;linkCode=as2&amp;tag=citizen4blog-20">Doraemon, Vol. 3</a>, Fujiko F. Fujio</li>
<li><a href="http://www.amazon.com/gp/product/1593077521/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=1593077521&amp;linkCode=as2&amp;tag=citizen4blog-20">Signal to Noise</a>, Neil Gaiman</li>
</ul>


<h2>Audiobooks:</h2>

<ul>
<li><a href="http://www.amazon.com/gp/product/B002DYJR4G/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B002DYJR4G&amp;linkCode=as2&amp;tag=citizen4blog-20">Free: The Future of a Radical Price</a>, Chris Anderson</li>
<li><a href="http://www.amazon.com/gp/product/B005CRQ2OE/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B005CRQ2OE&amp;linkCode=as2&amp;tag=citizen4blog-20">Boomerang: Travels in the New Third World</a>, Michael Lewis</li>
<li><a href="http://www.amazon.com/gp/product/B002UK6NO0/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B002UK6NO0&amp;linkCode=as2&amp;tag=citizen4blog-20">The Art Of Happiness: A Handbook For Living</a>, Dalai Lama XIV</li>
<li><a href="http://www.amazon.com/gp/product/159007257X/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=159007257X&amp;linkCode=as2&amp;tag=citizen4blog-20">The Hitchhiker&rsquo;s Guide to the Galaxy: The Complete Radio Series</a>, Douglas Adams</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/12/10/around-southeast-asia/">Around Southeast Asia</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-10T18:27:00+07:00" pubdate data-updated="true">Dec 10<sup>th</sup>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Still trying to catch up on updates, this one will cover the time from
end of August until late October. The countries: Malaysia, Thailand,
Cambodia.</p>

<p>While we were in Vietnam, we realized we really felt like some beach
(that was before we actually got get quite a bit of that in Vietnam
itself). WWe also remembered that we really liked Malaysia and would
definitely go back there, so we bought a flight to KL with the idea of
visiting some places we missed last time and later going to Perhentian
or Tioman island. KL was chaotic as usual, but I still kinda like the
place. It&rsquo;s nothing special, but we have a guesthouse where we always
stay and some restaurants we really like. Sometimes returning to the
familiar feels good when you are on a long trip&hellip; But because we also
felt like something new we headed down to Melakka, which although
rather touristy is a really nice place, with good food, a relaxed
atmosphere and lots of pretty old houses in the Straigths Chinese
style. Definitely recommended! Next stop: Georgetown. Two years ago we
already spent a couple of days on Penang island, but we never really
bothered with visiting its main city. Turns out that was a great
mistake, because I&rsquo;m absolutely in love with this place now! There&rsquo;s
the usual mix of cultures typical for Malaysia, although Georgetown&rsquo;s
population is primarily of Indian and Chinese descent and Malays are
rather underrepresented. This means that the town is an absolute
foodie heaven, even more so than the rest of the country. On top of
that there&rsquo;s a lot of really nice architecture, a vibrant arts
community, nice cafes and a generally pleasant atmosphere, so the week
we spent there passed really really fast. I think at one point in the
future I want to spent several month in Georgetown&hellip;</p>

<p>Next on our list was going to an island. As I mentioned before our
original plans included some Malaysian islands, but if you are already
in Georgetown, Ko Tao is quite close and in fact easier to reach.
Normally that is, because when we tried to make our way there, there
was a train strike in the south of Thailand, as well as a cancelled
ferry due to bad weather and several roadblocks for various reasons.
This turned our trip into a 24 hour odysee which in retrospect could
be funny. Could, but isn&rsquo;t. This really was one of the hardest and
most frustrating journeys of this trip and if I never have to repeat
it, it still would be to soon. Anyway, all&rsquo;s well that ends well, and
once we reached the beach, we basically dropped to the activity levels
of narcoleptic sloths, put our bodies in basic life support mode and
didn&rsquo;t really bother with questions more complex than &ldquo;Where should we
eat?&rdquo; for the next ten days. Well almost, because we did sign up for a
diving course. I don&rsquo;t quite know what happened there, but somehow our
lazyness (at this point we had been on the road for almost one year
already) combined with limited trust in the instructor made us stop
after the first day. Maybe I&rsquo;ll try diving again at a later point, but
I&rsquo;m really not in a hurry when it comes to that.</p>

<p>With our batteries recharged and a couple of days left to spend in
Thailand we headed to good old Bangkok, one of my favorite cities in
Asia. We stayed at one of our friends&#8217; places, celebrated P.&rsquo;s
birthday with a fantastic dinner, had delicious cakes, saw some of my
friends for drinks in the evening and generally had a good time. I
always enjoy being in Bangkok, it&rsquo;s familiar but there&rsquo;s still always
something new to discover.</p>

<p>The next 3.5 weeks we spent in Cambodia, a place I wanted to see for a
long time. And it did not disappoint. Sure, Poi Pet is one of the most
annoying border crossings in the world and the first impression of
Siem Reap is less than favorable, but once you take a deep breath and
relax, Cambodia is just wonderful. Or rather, Cambodians are just
wonderful. They are open, friendly and funny, often speak good English
and enjoy a chat. If you want to know more about the country, there
are plenty of opportunities for that! But not only the locals were
great, we also met a plethora of nice foreigners, who are really
trying to help. But of course it&rsquo;s no paradise on Earth, so there&rsquo;s
also plenty of shady characters, annoying tuk-tuk drivers, sexpats,
opportunists, you name it. Cambodia is a poor country, with a host of
problems, and it seems to bring out both the best and worst in people.
Don&rsquo;t let the former blind and the latter deter you and you are bound
to have a great time.</p>

<p>Anyway, as mentioned our first stop was Siem Reap, and the Angkor
complex (which is way bigger than &ldquo;just&rdquo; Angkor Wat) really is as good
as you probably believe it is. We got the three day ticket and also
explored some of the further away temples, but my personal highlight
was returning to Angkor Wat in the early afternoon and having it
almost to ourselves for some miraculous reason. We also had a good
time exploring the town itself (the &ldquo;other&rdquo; side of the river is much
more quiet), met some nice expats, went out to party with T. and B.
who we met at the border, and had some delicious food. Seriously,
Cambodian food is underrated, they have some great stuff! Personally I
prefer Thai curries, but a good Amok is almost as good.</p>

<p>Our second stop was sleepy little Battambang, which actually is the
second biggest city in the country, but really doesn&rsquo;t feel like it.
Most poeple don&rsquo;t bother going there at all or just spend a day or so
there, but somehow we managed to fill five days without getting overly
bored. Of course there&rsquo;s the standard day trip including the bamboo
train, a cool old temple, and an amazing cave where a million bats fly
out at sunset, but that wasn&rsquo;t even that interesting (although we did
have a great tuk-tuk driver who explained a lot about Cambodia to us).
I really just enjoyed the relaxed vibe of the place, which has a great
cafe (Kinyei), an good restaurant if they feel like it (White Rose)
and a decent pub (Madison Corner). People are friendly and life has a
very slow pace, which I found immensely relaxing.</p>

<p>From there we went to Phnom Penh, a decidely less relaxed place, which
nonetheless has its own charms. I don&rsquo;t like the general backpacker
area of town, so I&rsquo;m glad we decided not to stay there, but instead
opted for a guesthouse closer to the BKK1 area before actually moving
to another one there. Unfortunately there was a series of attacks on
tourists right before we got to PP, but we still walked all over the
place to explore it and it felt fine. In fact some areas are really
enjoyable and the friendly Cambodians make it even better. We also
bumped into two extremely nice Vietnamese guys who were excited to
learn that we had just visited their country, and who invited us for
some fruit and a chat. Of course we also visited the killing fields
and the S21 prison, but I think it&rsquo;s impossible to truly grasp the
horrors that took place in Cambodia. It still was a sombering
experience.</p>

<p>Our original plan included exploring the east of the country, but alas
heavy rains and floodings prevented us from doing that. So we went
straight to lovely little Kampot, a place where we whiled away a week
with our new travel buddy, N. from the UK. I&rsquo;m not sure what it is
with me and small towns in Cambodia, but I enjoyed Kampot even more
than Battambang. For such a small town there was a surprising lot of
good food, they have an excellent and tough pub quiz (which we
surprisingly won), and there&rsquo;s some nice trips you can do from there.
We also explored the small town on the other side of the river as well
as nearby Kep, and spent quite a bit of time on our guesthouse&rsquo;s
terrace looking at amazing sunsets or at one of the nice cafes reading
books. Tough life, I know.</p>

<p>Oops, this got a lot longer than I had originally intended, but I
really like all the countries I just wrote about and writing about
them brought back some good memories.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/06/the-missing-update/">The Missing Update</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-11-06T14:07:00+07:00" pubdate data-updated="true">Nov 6<sup>th</sup>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>After roughly two months of silence, it&rsquo;s time for another long overdue update. It covers our stay in Vietnam, or the period from end of July until end of August.</p>

<p>Having spent some time in Taiwan and Hong Kong, we were curious to explore Vietnam, a country that&rsquo;s supposed to be a bridge between the Chinese world and Southeast Asia. We arrived in Hanoi and I instantly liked what I saw: chaos, street food, old colonial architecture and more street food. Not to forget the bia hoi, delicious (and cheap) beer which is brewed daily. While the traffic is at times insane, Hanoi is a very likable city, featuring some great cafes, excellent food and nice old French houses. Unfortunately a typhoon stopped us from going to Halong Bay, but the Perfume Pagoda made for a nice day trip too.</p>

<p>While many travelers in Vietnam opt for the cheap &ldquo;Open Bus Ticket&rdquo; from Hanoi to Saigon with various possible stops in between, we felt like going for a more authentic travel experience and took the night train instead. Alas the sleeper compartments were booked out, so we spent the entire 12 or so hours sitting among Vietnamese families on their way to the beaches further South. Not the best night of my life, but I really enjoyed our destination, the old imperial city of Hue. It&rsquo;s a lovely town, and while quite touristy, it&rsquo;s easy enough to get away from it all and enjoy normal Vietnamese life. I also celebrated my birthday there, and the lovely folks of the Moonlight Hotel (yes, we spoiled ourselves there) gave me a super cute Doraemon cake. Thanks guys!</p>

<p>Our next stop was Da Nang, a popular destination for Vietnamese tourists, but apparently not that popular with foreigners. We ended up staying in a suburb close to the beautiful China beach, where English wasn&rsquo;t really spoken, but people were very curious about us and really helpful. Like many Asians the Vietnamese prefer white skin, so we basically had the beach to ourselves until almost 5pm every day.</p>

<p>We then took the local bus to Hoi An, which is a great little place, that could be so much nicer still if the pretty old houses weren&rsquo;t all covered in merchandise. It&rsquo;s still a very nice and likable town though, and we ate some of the best food in all of Vietnam there (check out the Little Menu, it&rsquo;s a really nice restaurant). For me the best parts where the surroundings though, which we explored on the free bikes our home-stay provided. Cycling through green rice paddies to the beach is among my best memories of our time in the country.</p>

<p>Having made our way back to Da Nang, we embarked on another looong train journey to Nha Trang, Vietnam&rsquo;s most popular beach destination. We originally had thought about skipping it, but I found a great looking diving school there, and since getting an Open Water license was part of my plans for this trip, we decided to go after all. What can I say, the place is as bad as I imagined, full of obnoxious tourists, construction sites, generic backpacker hangouts and a general air of seediness. Anyway, I got sick, the diving didn&rsquo;t happen, and while I found that quite annoying, I also was rather relieved to get out of there.</p>

<p>After a relatively short and scenic bus ride we arrived in Da Lat, a pretty little town in a rather picturesque mountain setting. We stayed at Dream Guesthouse, which was a great place and featured one of the nicest breakfasts I ever got in a hostel. They even had Marmite! While the sudden drop in temperature that comes with altitude was slightly annoying at first, the town&rsquo;s pretty setting and relaxed atmosphere really make up for it. Definitely a place I would go back to!</p>

<p>Since we wanted some more beach time, our next stop was Mui Ne. Getting there was quite a pain in the ass though, as our minibus was filled to the brim with over 30 people and various packages that were dropped off at various destinations on our way, making this dreadful ride even longer. But all is well that ends well, and we had a great time on the beach. We also bumped into some guys we first met in Hoi An and had a fun night out with them and their Austrian (apparently some of us DO travel after all) travel buddies. I also signed up for a kite surfing course, but unfortunately the wind stopped about 30 minutes in and didn&rsquo;t really make another appearance before we left. Sports just didn&rsquo;t happen for me in Vietnam&hellip; Anyway, Mui Ne was super relaxing, we extended our stay twice and ended up spending almost a week there. I&rsquo;d almost be tempted to feel silly for that, but we met several other people who did the same.</p>

<p>Our last stop in the country was Saigon, a very different beast from Hanoi. While I seem to prefer the food in Northern Vietnam, I definitely have a thing for the people from the South. They just seem a lot more friendly and open and we had a couple of good random conversations during our stay. We also visited the Cuchi tunnels, but instead of doing it with a boring half-day tour, we did it using public transport, which took about twice as long, but was way more fun (take bus #13 from the terminal and #79 from where it drops you off). I really enjoyed Saigon, it felt a lot more relaxed that Hanoi.</p>

<p>Writing this made me realize just how much I enjoyed Vietnam. Before we went I was curious about the type of experience we&rsquo;d have, since many people seem to find it a pretty hard country to travel in. However, I found it no harder to deal with than many other places I&rsquo;ve visited over the years. Sure, some of the sellers are rather pushy, but it doesn&rsquo;t take too much to get rid of them. And in all fairness, they bother other Vietnamese people even more than they bother tourists. You also often hear that nothing in Vietnam comes at a fixed price and that foreigners often end up paying a premium, but once again I found that they do the same to Vietnamese domestic tourists too. Also I don&rsquo;t mind paying a couple of cents more every so often, especially when they mean a lot more to the seller than to me. My advice, forget everything you&rsquo;ve heard about Vietnam before you go there, and approach the country with an open mind and a positive attitude. I&rsquo;m sure you&rsquo;ll have a great time!</p>

<p>Oh, in case you wonder, I wrote this in Bagan, Myanmar, but I&rsquo;m afraid it will take a bit longer before my updates have caught up with my whereabouts&hellip;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/09/08/great-greater-greater-china/">Great, Greater, Greater China!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-08T00:10:00+07:00" pubdate data-updated="true">Sep 8<sup>th</sup>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>By now it&rsquo;s quite standard that my posts lack behind my travels&hellip; This update is no exception, it&rsquo;s about our travels from end of June to end of July.</p>

<p>The topic: <a href="http://en.wikipedia.org/wiki/Greater_China">Greater China</a>, or more precisely Shanghai, Taiwan and Hong Kong.</p>

<p>But let&rsquo;s start from the beginning. In Cali (Colombia) we figured it&rsquo;s about time to figure out how we&rsquo;d get from the Americas to Asia. It was pretty clear that we&rsquo;d have to go through the US, and since A. and V. were not in San Francisco at the dates we were looking at, we decided to visit C. in Los Angeles. After a bit of searching I found a great flight from LAX to Taipei with a 20h layover in Shanghai. P. had
never considered going to Taiwan before, but to her credit it didn&rsquo;t take much convincing and we booked the flight that same evening. Considering that in a past life (or so it seems) I studied Sinology, I did find this quite exciting, after all I studied Taiwan academically
but had never set foot in the country. I also dreaded using my rusty Mandarin again.</p>

<p>Not looking forward to spending 20h at the airport, I did a little online search and found out that Beijing and Shanghai now have free 72h transit visas on arrival. Jackpot, especially since I studied in Shanghai and was quite stoked to see the city again. So after a couple of awesome and eventful days in LA (thanks again C., especially for taking us to the Bradbury building of Blade Runner fame!) we boarded our flight and arrived in China 14h later. We were quite jetlagged and tired, but we still bothered to go into the city, where we found a
nice little hotel off Nanjing Lu close to the Bund. Before we collapsed we managed to have a nice dinner and a bit of a walk and I remembered why I originally fell in love with this city that I called home for a year. I definitely want to go back for a longer stay at one point&hellip;</p>

<p>The next day we arrived in Taipei where we had booked accommodation via AirBnB and a new love affair started almost immediately (yes, I&rsquo;m a bit of a place whore, deal with it). Over the years I&rsquo;ve heard many great things about the city, but yet it still somehow managed to exceed my expectations. It&rsquo;s cool (teenagers have a pretty Japanese style), it&rsquo;s modern, it&rsquo;s quirky, and the food is awesome. If you need a break, places like Beitou (very cool public library) or Tamsui are an easy MRT ride away, or you just go to a park and watch old people practice Qi Gong or Tai Chi. Coincidentally one of P.&rsquo;s friends was in Taipei at the same time as us and we explored the Confucius temple and some other parts together. After a couple of days my friend Ph. arrived from Vienna and kept us company for the next two weeks.</p>

<p>With him we explored more of Taipei, before heading off to Keelong. Which would be transcribed as Jilong in the official Chinese Hanyu Pinyin system, but the Taiwanese seem to use about 5 different systems at the same time, of which at least 2 appear to have been made up solely for the purpose of confusing foreigners. For the rest of this mail I will just go with the transcriptions most commonly found in travel guides, but I digress&hellip; Anyway, Keelong was fun. Not the prettiest of towns, but some nice things to see and an awesome night food market. We spent the afternoon with a friendly but slightly insane taxi driver, and at night we found a group of breakdancers to watch. What more can you reasonably expect from a day trip?</p>

<p>The next day we went on to Hualien, where once again we stuffed our faces at a night market. Or several, since we first ended up at the wrong one, where 2 young employees at a food stall were so relieved that they managed to deal with 3 foreigners, that they actually high-fived when we walked away with our food. After we finished our meal they got daring and ventured a &ldquo;Good food happy?&rdquo; at us. &ldquo;my friends, &#8220;happy happy!&rdquo; indeed. The next day was reserved for the famous Taroko Gorge, but a shitty bus service, bad weather and the unfriendliest bus driver of the country made it a rather disappointing experience. You win some, you lose some&hellip;</p>

<p>Our next stop was Lukang, where we spent a couple of very pleasant days eating (do you see a pattern here?) and exploring old temples. We then headed down to Tainan, where we basically did the same. More food, more temples. Then maybe a snack. How about another temple? My favorite part of Tainan was <a href="http://en.wikipedia.org/wiki/Anping_District">Anping</a>, which is definitely worth checking out if you ever make it there.</p>

<p>We now were approaching the end of Ph.&rsquo;s time with us, and I&rsquo;m glad he managed to at least get a glimpse of Kaohsiung, one of my favorite new places. I can&rsquo;t even tell you why exactly, I just really liked it there. Sure, food&rsquo;s awesome, but that&rsquo;s basically a given in Taiwan. The people are amazingly friendly, but that&rsquo;s pretty much standard too. I guess what I like is the overall feel of the place, which is rather relaxed. And artsy. Kaohsiung used to be an industrial town, but most of that industry disappeared. Thanks to a former mayor the
old factories and warehouses on the docks now serve as amazingcontemporary art spaces. We came for 3 days, we stayed for a week, andwho knows, without the flight to Vietnam we had already booked at thattime, I might still be there&hellip;</p>

<p>Our last stop before returning to Taipei for 3 more awesome days wasTaitung, or rather the countryside around it. Taiwan&rsquo;s east coast isfar less developed than other parts of the country, but reallybeautiful. Since our hostel had free bikes we managed to explore thearea a bit, alas a second taifun was about to hit (the first onecaught Ph. in Taipei) and so the weather wasn&rsquo;t exactly great. Atleast we had a great hostel to return to, run by a lovely family,which made us drink way more tea than I thought a human bladder canhold.</p>

<p>If it wasn&rsquo;t obvious enough yet, Taiwan was one of my favoritedestinations on this trip. The people are just amazingly friendly!Sure, not everybody will speak English, but even then they will stilltry to help you. Or at least smile at you. The food is excellent. Yes,I write about food a lot. Food matters! There&rsquo;s plenty of old templesaround, actually more than in most parts of China that I visited. Andalongside the old there&rsquo;s the new. Taiwan has many art and culturespaces, and a vibrant youth culture that borrows liberally from &ldquo;thewest&rdquo; as well as from Japan. In a way, our stay there made merediscover my love for the Chinese world, which had died down a bitafter university. I even got back into speaking Mandarin, and while itwas far from perfect, it usually was good enough (or the Taiwanese arejust amazing at reading body language in combination with nonsensicalphrases.) If you are looking for an intro to the Chinese culturalsphere that&rsquo;s easier than the mainland, I can wholeheartedly recommend Taiwan!</p>

<p>After the weeks of relative tranquillity, Hong Kong (one of myfavorite places ever) was quite the change. It&rsquo;s louder, busier, andmore stressful. On a superficial look it&rsquo;s all modern and businesslike, but if you dig deeper, you&rsquo;ll still find bits and pieces of oldworking-class Hong Kong. And if you want a break, you can always justflee up Hong Kong hill or head out to Lantau to visit the peacefulfishing village of Tai O. We stayed in Chungking Mansions(<a href="http://en.wikipedia.org/wiki/Chungking_Mansions">http://en.wikipedia.org/wiki/Chungking_Mansions</a>), which despite therecent renovations is still a rather unique place. After all thisplace had a book written about it, the aptly named &ldquo;Ghetto at theCenter of the World&rdquo;. Another nerd dream came true when we visited theonly Studio Ghibli store outside Japan, where we took pictures withTotoro and in the Catbus. Yes, I was inside the Catbus, how cool isthat? Unfortunately the weather was really bad during most of ourstay, so P. didn&rsquo;t get to fully enjoy HK, which is a bit of a shame.Oh well, guess that means I will have to take her back at one point&hellip;</p>

<p>Photos I hear you say? Here you go:<br>
<a href="http://www.flickr.com/photos/citizen428/sets/72157635271645014/">Taiwan</a><br>
<a href="http://www.flickr.com/photos/citizen428/sets/72157635262034054/">Hong Kong</a></p>

<p>Confucius say &ldquo;Be good and travel more!&rdquo;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/08/31/extending-nmap-with-lua/">Extending Nmap With Lua</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-08-31T17:49:00+07:00" pubdate data-updated="true">Aug 31<sup>st</sup>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><em>I originally wrote this piece for a pentesting magazine, but after some unprofessional behavior by their editor I lost my cool and decided not too publish it there. It&rsquo;d be a shame to let it go to waste though, so I after almost three month I finally decided to put it up on my blog.</em></p>

<p>Whether you are working as a security professional or a network administrator, chances are that <a href="http://nmap.org/">Nmap</a> (“Network Mapper”) is part of your regular toolkit. For many people this project, which was started by Gordon &ldquo;Fyodor&rdquo; Lyon in 1997, is the first choice when it comes to host and service discovery. But thanks to the Nmap Scripting Engine (NSE), it can do much more than that, allowing users to easily develop and share their own scripts, thus turning it into a versatile security scanner.</p>

<h3>What you will learn&hellip;</h3>

<ul>
<li>basics of the Lua programming language,</li>
<li>walkthrough of a simple NSE script,</li>
<li>where to find more information on scripting Nmap and Lua in general.</li>
</ul>


<h3>What you should know&hellip;</h3>

<ul>
<li>basic Nmap usage,</li>
<li>an imperative programming language.</li>
</ul>


<h3>The Nmap Scripting Engine (NSE)</h3>

<p>Scripting has been part of Nmap for a while, but version 6 includes a dramatically improved implementation of the NSE infrastructure. This also led to an enormous increase in <a href="http://nmap.org/nsedoc/">available scripts</a>, from 59 in version 5, to 347 in the latest release and more than 430 in the current SVN repository. The core of NSE is an embedded Lua interpreter. Before NSE’s implementation started, the Nmap developers considered various programming languages for inclusion, but finally settled on Lua because it&rsquo;s small, liberally licensed (MIT), fast, actively developed and designed with embeddability in mind. It&rsquo;s also used in other popular FOSS security tools like <a href="http://www.wireshark.org">Wireshark</a> and <a href="http://snort.org/">Snort</a>, as well as in popular projects such as <em>World of Warcraft</em> or the window manager <a href="http://awesome.naquadah.org/">Awesome</a>.</p>

<h2>The Lua Programming Language</h2>

<p>Development of <a href="http://lua.org/">Lua</a> started in 1993 at the Pontifical Catholic University of Rio de Janeiro, Brazil. It was designed by Roberto Ierusalimschy, Waldemar Celes and Luiz Henrique de Figueiredo, with the primary goals of being lightweight, cross-platform and easy to embed in other projects. These goals were achieved by writing the language in portable ISO C and giving it a comparatively simple C API. Also Lua&rsquo;s interpreter only takes up about 180 kB in compiled form, so embedding it does not incur a huge cost. Over the years it became a popular scripting and extension language, used in a wide variety of projects. The syntax of Lua should be familiar to anyone who has experience in Modula or C style languages (control structures like <em>if</em>, <em>while</em>, <em>for</em>), but the designers borrowed liberally from other languages as well: the semantics of Lua are heavily influenced by Scheme, and even though the different syntax obscures this a bit, it becomes rather clear the longer you use the language. In some ways it feels like a cleaner and better designed JavaScript, so it&rsquo;s normally
easy to understand a given snippet of Lua code even with little or no previous exposure to the language.</p>

<h3>Key features</h3>

<p>Lua features first-class functions, thus allowing the developer to treat functions like any other data type. It also doesn&rsquo;t impose a certain programming paradigm, but instead provides meta-features to extend the language as needed. This for example makes it possible to implement things like inheritance in a rather simple and straightforward way without explicit language support. Lua is also garbage collected, features closures and proper tails calls and provides an infrastructure for cooperative multitasking in the form of coroutines. While most of this goes beyond the scope of this article (and NSE), interested readers can find more information in the excellent book &ldquo;Programming in Lua&rdquo;, <a href="http://www.lua.org/pil/">an older version of which is available for free on the project&rsquo;s web site</a>.</p>

<h3>Tables</h3>

<p>There&rsquo;s is however one more feature of Lua that&rsquo;s worth discussing in a bit more detail, namely its reliance on a single compound data structure, the table. Tables are in essence what other languages commonly refer to as associative arrays or dictionaries, or key-value pairs. This is how you create a simple table:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='lua'><span class='line'><span class="n">table</span> <span class="o">=</span> <span class="p">{</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="s">foo&quot;</span> <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>The values can be accessed like this: <em>t[&ldquo;x&rdquo;]</em> and <em>t[&ldquo;y&rdquo;]</em>. For string keys Lua supports a nice shorthand though, so <em>t.x</em> and <em>t.y</em> will produce the same result.</p>

<p>One special feature of Lua&rsquo;s tables is that they are also optimized for use as arrays, which can be created like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='lua'><span class='line'><span class="n">array</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;</span><span class="s">citizen&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">428&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">blog&quot;</span> <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Indices are assigned automatically and unlike in other languages start from 1, not 0 (although it is possible to explicitly assign to <em>array[0]</em>). So to get the string &ldquo;428&rdquo; out of our array, we have to use <em>array[2]</em>.</p>

<p>With this comparatively simple data structure (and the powerful metatable feature) Lua not only implements arrays and dictionaries, but also records/structs, namespaces, classes, objects and much more.</p>

<h3>Examples</h3>

<p>Enough theory, let’s look at some example Lua code. First the customary “Hello world” program:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='lua'><span class='line'><span class="nb">print</span> <span class="err">“</span><span class="n">Hello</span> <span class="n">world</span><span class="err">”</span>
</span></code></pre></td></tr></table></div></figure>


<p>This will just output <em>Hello world</em>. Now for a function definition:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='lua'><span class='line'><span class="k">function</span> <span class="nf">sayHello</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span class='line'>  <span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;</span><span class="s">Hello &quot;</span> <span class="o">..</span> <span class="n">name</span> <span class="o">..</span> <span class="s2">&quot;</span><span class="s">!&quot;</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>To generate the same output as above, we would have to call the function with the appropriate argument: <em>sayHello(“world”)</em>. Alternatively, the same function could be defined like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='lua'><span class='line'><span class="n">sayHello</span> <span class="o">=</span> <span class="k">function</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span class='line'>  <span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;</span><span class="s">Hello &quot;</span> <span class="o">..</span> <span class="n">name</span> <span class="o">..</span> <span class="s2">&quot;</span><span class="s">!&quot;</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Last but not least a small loop that iterates over an array and prints out each element (<em>ipairs</em> returns the index-value pairs of an array):</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='lua'><span class='line'><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">str</span> <span class="k">in</span> <span class="nb">ipairs</span><span class="p">(</span><span class="n">array</span><span class="p">)</span> <span class="k">do</span>
</span><span class='line'>  <span class="nb">print</span> <span class="p">(</span><span class="n">i</span><span class="o">..</span><span class="s2">&quot;</span><span class="s">: &quot;</span><span class="o">..</span><span class="n">str</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Assuming the variable <em>array</em> contains the elements “citizen”, “428”, and “blog”, this will generate the following output:</p>

<pre><code>1: citizen
2: 428
3: blog
</code></pre>

<h2>NSE example script</h2>

<p>The Nmap web site contains some excellent documentation regarding NSE (<a href="http://nmap.org/book/man-nse.html">short intro</a>, <a href="http://nmap.org/book/nse.html">full book chapter</a>, <a href="http://nmap.org/book/nse-tutorial.html">tutorial</a>, so instead of repeating all of what’s written there, we’ll look at a practical example instead. The script shown here is <a href="http://nmap.org/nsedoc/scripts/http-generator.html">http_generator.nse</a>, which looks for the presence of an HTTP <em>generator</em> meta tag to determine which CMS the scanned hosts run (if any). This information can be useful, since outdated versions of such systems are common attack vectors.</p>

<h3>Library imports</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='lua'><span class='line'><span class="kd">local</span> <span class="n">http</span> <span class="o">=</span> <span class="nb">require</span> <span class="s2">&quot;</span><span class="s">http&quot;</span>
</span><span class='line'><span class="kd">local</span> <span class="n">shortport</span> <span class="o">=</span> <span class="nb">require</span> <span class="s2">&quot;</span><span class="s">shortport&quot;</span>
</span><span class='line'><span class="kd">local</span> <span class="n">stdnse</span> <span class="o">=</span> <span class="nb">require</span> <span class="s2">&quot;</span><span class="s">stdnse&quot;</span>
</span><span class='line'><span class="kd">local</span> <span class="n">string</span> <span class="o">=</span> <span class="nb">require</span> <span class="s2">&quot;</span><span class="s">string&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>It&rsquo;s customary to start Nmap scripts by importing all the needed <a href="http://nmap.org/book/nse-library.html">libraries</a>. In the process they are assigned to local variables, so if you wanted to access them under a different (presumably shorter) name you could do so (for example <em>local s = require “string”</em>). There&rsquo;s a wide variety of available libraries, from protocols (<em>afp</em>, <em>dns</em>, <em>http</em>, <em>bitcoin</em>, <em>openssl</em> etc.) over encoding/decoding (<em>base32</em>, <em>base64</em>, <em>json</em>) and utility libraries (<em>nmap</em>, <em>packet</em>, <em>pcre</em>) to a framework for brute-force attacks against services (<em>brute</em>).
The script we are looking at uses the <em>http</em> library for communication, <em>shortport</em> for an easier way to define portrules (more on that later), and <em>stdnse</em>, a collection of utility functions provided by NSE. The <em>string</em> library is a standard Lua library and used for string matching in this example.</p>

<h3>Metadata</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class='lua'><span class='line'><span class="n">description</span> <span class="o">=</span> <span class="s">[[ Displays the contents of the &quot;generator&quot; meta tag of a web page(default: /) if there is one.</span>
</span><span class='line'><span class="s">]]</span>
</span><span class='line'>
</span><span class='line'><span class="n">author</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="s">Michael Kohl&quot;</span>
</span><span class='line'><span class="n">license</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="s">Same as Nmap--See http://nmap.org/book/man-legal.html&quot;</span>
</span><span class='line'><span class="n">categories</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;</span><span class="s">default&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">discovery&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">safe&quot;</span><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">---</span>
</span><span class='line'><span class="c1">-- @usage</span>
</span><span class='line'><span class="c1">-- nmap --script http-generator [--script-args http-generator.path=&lt;path&gt;,http-generator.redirects=&lt;number&gt;,...] &lt;host&gt;</span>
</span><span class='line'><span class="c1">--</span>
</span><span class='line'><span class="c1">-- @output</span>
</span><span class='line'><span class="c1">-- PORT    STATE SERVICE</span>
</span><span class='line'><span class="c1">-- 80/tcp  open  http</span>
</span><span class='line'><span class="c1">-- |_http-generator: TYPO3 4.2 CMS</span>
</span><span class='line'><span class="c1">-- 443/tcp open  https</span>
</span><span class='line'><span class="c1">-- |_http-generator: TYPO3 4.2 CMS</span>
</span><span class='line'><span class="c1">--</span>
</span><span class='line'><span class="c1">-- @args http-generator.path Specify the path you want to check for a generator meta tag (default to &#39;/&#39;).</span>
</span><span class='line'><span class="c1">-- @args http-generator.redirects Specify the maximum number of redirects to follow (defaults to 3).</span>
</span><span class='line'>
</span><span class='line'><span class="c1">-- Changelog:</span>
</span><span class='line'><span class="c1">-- 2011-12-23 Michael Kohl &lt;citizen428@gmail.com&gt;:</span>
</span><span class='line'><span class="c1">--   + Initial version</span>
</span><span class='line'><span class="o">...</span>
</span></code></pre></td></tr></table></div></figure>


<p>After the library imports, scripts contain some metadata that is used for documentation and internal purposes. The <em>description</em> and author variables are self-explanatory, the syntax used for the former is Lua&rsquo;s way of creating so-called &ldquo;heredocs&rdquo;, string literals that preserve white space and line breaks. In regard to the <em>license</em> script authors have two choices, the GPL-like Nmap license, as well as a simplified (2-clause) BSD license. Last but not least there&rsquo;s documentation in the NSEDoc format. It&rsquo;s customary to include usage documentation, example output, descriptions of all the available arguments (if any) as well as a changelog.</p>

<p>There&rsquo;s another important field that this specific script doesn&rsquo;t use, <em>dependencies</em>. This defines the order in which scripts should be run and is used for the case where one script works on the results of another script. It&rsquo;s important to keep in mind that scripts listed here will not be automatically run, they still have to be selected via <em>&mdash;script scriptname</em> or in another way (for example <em>&mdash;script=default</em>).</p>

<p>The <em>categories</em> variable is a bit more interesting, it defines which groups of scripts our current program belongs to. Scripts marked as <em>default</em> will be run automatically when Nmap is started with the <em>-sC</em> or <em>-A</em> options.To qualify for inclusion in this category, scripts have to adhere to some criteria: they need to be fast, reliable, non-obstrusive and generally useful. There are no clear definitions for these criteria, it&rsquo;s up to the Nmap developers to add a script to this category. The <em>discovery</em> category collects all scripts that actively try to gather more information about the scan targets, in our case the &ldquo;generator&rdquo; HTML meta tag. If a script is marked as <em>safe</em>, that means that it was not written with the intent of crashing services or exploiting vulnerabilities and that it&rsquo;s unlikely to consume large amounts of resources. There are many more categories Nmap uses, for example <em>auth</em> (scripts dealing with authentication credentials), <em>brute</em> (tools for brute force attacks) or <em>vuln</em> (checking for specific vulnerabilities). For a full list, please consult Nmap&rsquo;s excellent documentation.</p>

<p>Now that we know a bit more about categories, let&rsquo;s see how we can use that knowledge for more interesting Nmap runs. Let’s start by running all the default scripts:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>nmap -sC example.com
</span></code></pre></td></tr></table></div></figure>


<p>or</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>nmap --script<span class="o">=</span>default example.com
</span></code></pre></td></tr></table></div></figure>


<p>The invocation <em>nmap -A example.com</em> (&ldquo;Aggressive/advanced scan options&rdquo;) enables OS and version detection, script scanning (equivalent to <em>nmap -sC</em>), and traceroute.</p>

<p>If you just want to run a single script, you can do so by specifying the <em>&mdash;script</em> argument, for example <em>nmap &mdash;script http-generator example.com</em>.</p>

<p>It’s also possible to run scripts from several categories, by using something like <em>nmap &mdash;script &ldquo;default,safe&rdquo; example.com</em> or <em>nmap &mdash;script &ldquo;default or safe&rdquo; example.com</em>. There is an analogous and operator, so <em>nmap &mdash;script &ldquo;default AND safe&rdquo; example.com</em> will only run scripts that are in all the listed categories.</p>

<p>As an example for a rather complex invocation, the following command will run all scripts from the three specified categories, except for the ones whose name starts with &ldquo;http-&rdquo;.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>nmap --script <span class="s2">&quot;(default or safe or intrusive) and not http-*&quot;</span> example.com
</span></code></pre></td></tr></table></div></figure>


<p>Last but not least it’s also possible to run user scripts which are not part of the standard Nmap distribution, as show in the following example:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>nmap --script default,banner,/home/user/customscripts example.com
</span></code></pre></td></tr></table></div></figure>


<p>The above invocation will run all default scripts, the script named “banner” and all scripts which can be found in the directory <em>/home/user/customscripts</em>.</p>

<h3>Rule</h3>

<p>The <em>rule</em> definition is an important part of every NSE script, it determines when the script should run. A rule is a Lua function that returns <em>true</em> or <em>false</em> to decide whether or not the script&rsquo;s action function will be executed. There are several different rule types, depending on when the script is supposed to run (before or after hosts are scanned, <em>prerule</em> and <em>postrule</em>) or if the trigger is a specific host or port (<em>hostrule</em> and <em>portrule</em>).</p>

<p>The rule definition in our example script is very simple since it uses the very handy <em>shortport</em> library, which has several predefined rules for common scenarios:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='lua'><span class='line'><span class="n">rule</span> <span class="o">=</span> <span class="n">shortport</span><span class="p">.</span><span class="n">http</span>
</span></code></pre></td></tr></table></div></figure>


<p>This will match and return <em>true</em> when a given port is likely to be an HTTP port.</p>

<h3>Action</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='lua'><span class='line'><span class="n">action</span> <span class="o">=</span> <span class="k">function</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>
</span><span class='line'>    <span class="kd">local</span> <span class="n">path</span> <span class="o">=</span> <span class="n">stdnse</span><span class="p">.</span><span class="n">get_script_args</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">http-generator.path&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="s1">&#39;</span><span class="s">/&#39;</span>
</span><span class='line'>    <span class="kd">local</span> <span class="n">redirects</span> <span class="o">=</span> <span class="nb">tonumber</span><span class="p">(</span><span class="n">stdnse</span><span class="p">.</span><span class="n">get_script_args</span><span class="p">(</span><span class="s1">&#39;</span><span class="s">http-generator.redirects&#39;</span><span class="p">))</span> <span class="ow">or</span> <span class="mi">3</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">-- Worst case: &lt;meta name=Generator content=&quot;Microsoft Word 11&quot;&gt;</span>
</span><span class='line'>    <span class="kd">local</span> <span class="n">pattern</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="s">&lt;meta name=&quot;?generator&quot;? content=&quot;([^</span><span class="se">\&quot;</span><span class="s">]*)&quot; ?/?&gt;&#39;</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">-- make pattern case-insensitive</span>
</span><span class='line'>    <span class="n">pattern</span> <span class="o">=</span> <span class="n">pattern</span><span class="p">:</span><span class="n">gsub</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">%a&quot;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="n">c</span><span class="p">)</span>
</span><span class='line'>                  <span class="k">return</span> <span class="nb">string.format</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">[%s%s]&quot;</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="nb">string.upper</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
</span><span class='line'>              <span class="k">end</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">local</span> <span class="n">response</span> <span class="o">=</span> <span class="n">follow_redirects</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">redirects</span><span class="p">)</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span> <span class="n">response</span> <span class="ow">and</span> <span class="n">response</span><span class="p">.</span><span class="n">body</span> <span class="p">)</span> <span class="k">then</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">response</span><span class="p">.</span><span class="n">body</span><span class="p">:</span><span class="n">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>The <em>action</em> function is the heart of every NSE script, it contains the code that will be performed when the rule matches. Basically <em>action</em> is just another Lua function that accepts the same arguments as the <em>rule</em> function (which is not as obvious in our example because of the use of the <em>shortport.http</em> rule).</p>

<p>The function starts with checking for the presence of two arguments and specifies defaults in case the user didn’t provide any values for them. Arguments can be passed to the script in the following way:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='lua'><span class='line'><span class="n">nmap</span> <span class="c1">--script http-generator --script-args http-generator.path=/cms,http-generator.redirects=2 example.com</span>
</span></code></pre></td></tr></table></div></figure>


<p>They get stored in the table <em>nmap.registry.args</em>, but instead of using them directly you should use the function <em>stdnse.get_script_args</em> to access them.</p>

<p>After the argument handling, a pattern matching the HTTP &ldquo;meta&rdquo; tag is specified. Standard Lua does not include a regular expression library, but uses its own patterns instead. While there is a library providing Perl-compatible regular expressions (PCRE) for Nmap, it seemed like overkill to drag it in for a single expression, so I relied on plain Lua for this, which explains the little workaround used in the next line to make the pattern case insensitive by replacing every letter (the pattern <em>%a</em>) with its lower and upper case version.
After that the <em>follow_redirects</em> helper function is used to get an HTTP response, and if there is one, its body will be scanned for our pattern.</p>

<p>If there is a match, the function will return the matching string and Nmap will automatically include it in its output as shown here:</p>

<pre><code>PORT   STATE SERVICE
80/tcp open  http
| _http-generator: WordPress.com |
</code></pre>

<p>Instead of a string the action can also return tables consisting of name-value pairs which are then formatted in a structured fashion, whereas the return value <em>nil</em> generates no output at all.</p>

<p>As you may have noticed I didn’t yet show you the helper function mentioned above, so while it’s not very interesting in itself, I’ll include it for completeness’ sake:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='lua'><span class='line'><span class="kd">local</span> <span class="n">follow_redirects</span> <span class="o">=</span> <span class="k">function</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
</span><span class='line'>    <span class="kd">local</span> <span class="n">loc</span>
</span><span class='line'>    <span class="kd">local</span> <span class="n">pattern</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="s">^[hH][tT][tT][pP]/1.[01] 30[12]&quot;</span>
</span><span class='line'>    <span class="kd">local</span> <span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
</span><span class='line'>    <span class="k">while</span> <span class="p">(</span><span class="n">response</span><span class="p">[</span><span class="s1">&#39;</span><span class="s">status-line&#39;</span><span class="p">]</span> <span class="ow">or</span> <span class="s2">&quot;</span><span class="s">&quot;</span><span class="p">):</span><span class="n">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span> <span class="ow">and</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">do</span>
</span><span class='line'>        <span class="n">n</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span>
</span><span class='line'>        <span class="n">loc</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">header</span><span class="p">[</span><span class="s1">&#39;</span><span class="s">location&#39;</span><span class="p">]</span>
</span><span class='line'>        <span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">get_url</span><span class="p">(</span><span class="n">loc</span><span class="p">)</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">response</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>This helper function is a simple way to follow HTTP redirects. It first defines a pattern for recognizing the relevant HTTP status codes (301 and 302) before making a request to the specified host, port and path combination. It then checks for the presence of a redirect and if there is one, follows it to retrieve the location information from the new location. When there are no more redirects or the redirect limit (specified in the argument <em>n</em>) has been reached, the function returns the full HTTP response to the caller.</p>

<h3>Digging deeper</h3>

<p>And that’s all there is to it! Thanks to the excellent infrastructure provided by NSE and all its libraries, writing custom Nmap scripts is a pretty easy and straightforward task. Anybody with a bit of scripting experience should be able to pick up the basics in a very short time and then learn about the finer points while developing scripts. The Nmap development team has assembled some excellent documentation which can be found online at <a href="http://nmap.org/book/nse.html.">http://nmap.org/book/nse.html.</a> There’s also a great presentation by Fyodor and Nmap co-maintainer David Fifield available <a href="http://nmap.org/presentations/BHDC10/">online</a> which gets you started on developing your own NSE scripts in less than an hour.</p>

<h2>Summary</h2>

<p>Nmap is a popular tool for security and network professionals around the world, and its excellent scripting capabilities make it very versatile. The Nmap Scripting Engine relies on the popular and easy to learn Lua programming language, and provides useful libraries for quickly and efficiently developing your own custom scripts, which can then be shared with the wider Nmap user community.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/27/viva-mexico/">¡Viva Mexico!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-27T20:04:00+07:00" pubdate data-updated="true">Jul 27<sup>th</sup>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Oh man, this is one overdue post. I wanted to write about Mexico forever, but then we were traveling in Taiwan, and suddenly the whole Latin America experience just seemed so far away already&hellip; Anyway, we are now in Vietnam (Hanoi to be more specific), so I thought I&rsquo;d finally sit down and write up my impressions.</p>

<p>Mexico was one of the places I wanted to visit for a long time, so before we went, I was a bit nervous that it may not live up to my expectations. But not only did it do that, it actually far exceeded them! There are fantastic things to see, the food is exceptionally good (also for vegetarians) and the people amazingly friendly. Also it felt like a really safe and easy place to travel: as opposed to big parts of South America the security situation in Mexico is pretty relaxed, even though stuff does of course happen. On top of that there are good roads everywhere and ADO is a very nice bus company, so we generally didn&rsquo;t dread moving from A to B. With that said it&rsquo;s quite unfortunate we only had 4 weeks there, but we had booked the flight to Taiwan beforehand in order to avoid getting stuck in the Americas for all of our trip. Turns out that was a good idea, because Mexico alone could easily have kept me entertained for several more month.</p>

<p>Our trip started in Tulum, which features a beautiful beach and a cute little set of ruins. Unfortunately Chaak (the Mayan rain god) wasn&rsquo;t on our side, so we only managed to get one and a half proper beach days. On the upside we got to taste tons of good food and also explore the nearby ruins of Coba. We then went to lovely Valladolid and the ruins of Ek Balam, both of which are a bit overlooked by tourists (or just crammed in on day tours). I&rsquo;m glad we stayed there, a super relaxed little town, and the ruins were among my favorites in Mexico. Next stop was Merida, which is a decent place in itself, but also the gateway to the ruins of Uxmal. A decent place, but slightly tainted by the memory of annoyingly obnoxious hostel neighbors. If you&rsquo;ve been to Mexico before and wonder, yes, we did in fact skip Chichen Itza. Based on the feedback of people we met, it really did not seem worth the effort in time and money. Instead we decided to give another little and often overlooked town a chance, and I&rsquo;m definitely happy that we went to Campeche. Quiet, with a small but pretty old town and very down to earth, this is the sort of place I really came to enjoy on this journey, and not only for the lack of a specific type of backpacker I detest. After this brief stop we went on to Palenque, a set of ruins I had heard lots about, and which I found to be a bit disappointing. Letting vendors onto the premises really doesn&rsquo;t add to the atmosphere, even if they don&rsquo;t hassle you&hellip; At least the setting of our hostel was very scenic, in that small cluster of hostels right at the beginning of the national park. The next stop was one of my absolute favorites, San Cristobal de las Casas where we ended up staying almost twice as long as we originally planned. True, it&rsquo;s small, but thanks to several cultural centers there&rsquo;s a surprising lot to do in town. It&rsquo;s also Zapatista heartland, so if you have any interest in the EZLN, this is THE place to be. Our trip to the coast around Puerto Escondido got canceled due to a hurricane, so we went straight to Oaxaca instead, which was also quite nice. Unfortunately P. got sick, so I mostly explored it by myself including a Mezcal factory, a petrified waterfall, and of course more ruins. Last but certainly not least was the D.F. (Distrito Federal), more commonly know as Mexico City outside of the country. You have to understand that I wanted to visit this city since my elementary school days, when I first heard that it&rsquo;s the biggest in the world. It may not be anymore, but it&rsquo;s still one of the most interesting places I ever visited. It&rsquo;s hard to put the city into words, but it has everything: the old, the new, the very poor, the super rich. It&rsquo;s a giant, it&rsquo;s a moloch, and yet, it&rsquo;s lovely. While not all of it is pretty, the parts that are, really are. When you walk into Coyoacan or San Angel for the first time, it&rsquo;s hard to believe that they are part of Mexico City at all. And given the size of the place, it&rsquo;s incredibly how friendly and helpful most of the people still are. BTW, thanks again for dinner and a great chat Hector! It&rsquo;s hard to put Mexico City into words, you better go there yourself!</p>

<p>No post about Mexico could be complete without a separate mention of the food. I always considered Mexican cuisine to be one of my favorites, but I wasn&rsquo;t sure how authentic it was. Turns out that the things we know like tacos, burritos, quesadillas, enchilladas, fajitas, and guacamole traveled rather well to Europe, although unfortunately we can&rsquo;t find them at tasty little street stalls where they are almost ridiculously cheap at times. But there&rsquo;s just so much more: sope, gorditas, molletes, tortas, papadzules, brazo de reina, tlayudas, and a ton of delicious things I can&rsquo;t remember the name of. Just writing about it now makes we want to go back right away&hellip;</p>

<p>Mexico definitely was one of the highlights of this trip for me (actually of all my travels so far), I&rsquo;d instantly go back.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/2">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>About citizen428</h1>
  <p>I&#8217;m Michael Kohl, generally known as citizen428 online. I mainly
  write about programming, and do a regular <a href="/blog/categories/informationoverload/">blog post series</a> collecting interesting
  articles I enjoyed throughout the week.</p>
<div id="social_media_icons" align="center">
<a href="http://twitter.com/citizen428"><img src="/images/icons/twitter.png"
                                             alt="Twitter" /></a>
<a href="https://plus.google.com/u/0/101046237539584353961/posts"><img src="/images/icons/google.png"
                                             alt="Twitter"
                                             /></a>
<a href="http://www.linkedin.com/in/citizen428"><img src="/images/icons/linkedin.png"
                                             alt="Twitter" /></a>
</div>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/09/28/information-overload-2014-09-28/">Information Overload 2014-09-28</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/21/information-overload-2014-09-21/">Information Overload 2014-09-21</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/08/17/re-kindling-my-love-affair-with-the-kindle-fire/">Re-kindling My Love Affair With the Kindle Fire</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/05/08/vcr/">VCR Case Woes</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/01/01/2013-reading-list/">2013 Reading List</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("citizen428", 3, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/citizen428" class="twitter-follow-button" data-show-count="true">Follow @citizen428</a>
  
</section>


<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/citizen428">@citizen428</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'citizen428',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Michael Kohl -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'citizen428-blog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
