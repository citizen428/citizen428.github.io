<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: rails | citizen428.blog()]]></title>
  <link href="http://citizen428.net/blog/categories/rails/atom.xml" rel="self"/>
  <link href="http://citizen428.net/"/>
  <updated>2012-05-26T00:51:53+02:00</updated>
  <id>http://citizen428.net/</id>
  <author>
    <name><![CDATA[Michael Kohl]]></name>
    <email><![CDATA[citizen428@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[RoR: 'call': Cannot yield from a Proc type filter.]]></title>
    <link href="http://citizen428.net/blog/2010/08/20/ror-call-cannot-yield-from-a-proc-type-filter/"/>
    <updated>2010-08-20T00:00:00+02:00</updated>
    <id>http://citizen428.net/blog/2010/08/20/ror-call-cannot-yield-from-a-proc-type-filter</id>
    <content type="html"><![CDATA[<p>As we all know, there are 2 main differences between procs and lambdas in Ruby.</p>

<ol>
<li>Argument checking:</li>
</ol>


<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="sr">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;blockquote&gt;&lt;blockquote&gt;&lt;p&gt;p = Proc.new { |name| &quot;Hello </span><span class="si">#{</span><span class="nb">name</span><span class="si">}</span><span class="sr">&quot; }</span>
</span><span class='line'><span class="sr">=&gt; #&amp;lt;Proc:0x000001008dc600@(irb):3&gt;</span>
</span><span class='line'><span class="sr">l = lambda { |name| &quot;Hello </span><span class="si">#{</span><span class="nb">name</span><span class="si">}</span><span class="sr">&quot; }</span>
</span><span class='line'><span class="sr">=&gt; #&amp;lt;Proc:0x000001008d3c08@(irb):4 (lambda)&gt;</span>
</span><span class='line'><span class="sr">p.call</span>
</span><span class='line'><span class="sr">=&gt; &quot;Hello &quot;</span>
</span><span class='line'><span class="sr">l.call</span>
</span><span class='line'><span class="sr">ArgumentError: wrong number of arguments (0 for 1)&lt;/</span><span class="nb">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="n">from</span> <span class="p">(</span><span class="n">irb</span><span class="p">):</span><span class="mi">4</span><span class="ss">:in</span> <span class="sb">`block in irb_binding&#39;</span>
</span><span class='line'><span class="sb">from (irb):6:in `</span><span class="n">call</span><span class="s1">&#39;</span>
</span><span class='line'><span class="s1">from (irb):6</span>
</span><span class='line'><span class="s1">from /Users/michi/.rvm/rubies/ruby-1.9.2-p0/bin/irb:17:in `&amp;lt;main&amp;gt;&#39;</span>
</span><span class='line'><span class="o">&lt;</span><span class="sr">/code&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nb">p</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></blockquote></blockquote>

<ol>
<li>The possibility to return from within the closure:
<div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">&lt;</span><span class="n">blockquote</span><span class="o">&gt;&lt;</span><span class="n">blockquote</span><span class="o">&gt;&lt;</span><span class="nb">p</span><span class="o">&gt;</span><span class="nb">p</span> <span class="o">=</span> <span class="no">Proc</span><span class="o">.</span><span class="n">new</span> <span class="p">{</span> <span class="k">return</span> <span class="p">}</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="c1">#&amp;lt;Proc:0x000001008c83a8@(irb):7&gt;</span>
</span><span class='line'><span class="n">l</span> <span class="o">=</span> <span class="nb">lambda</span> <span class="p">{</span> <span class="k">return</span> <span class="p">}</span>
</span><span class='line'><span class="o">=&gt;</span> <span class="c1">#&amp;lt;Proc:0x000001008c4050@(irb):8 (lambda)&gt;</span>
</span><span class='line'><span class="nb">p</span><span class="o">.</span><span class="n">call</span>
</span><span class='line'><span class="no">LocalJumpError</span><span class="p">:</span> <span class="n">unexpected</span> <span class="k">return</span>
</span><span class='line'> <span class="n">from</span> <span class="p">(</span><span class="n">irb</span><span class="p">):</span><span class="mi">7</span><span class="ss">:in</span> <span class="o">&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="n">block</span> <span class="k">in</span> <span class="n">irb_binding</span><span class="s1">&#39;</span>
</span><span class='line'><span class="s1"> from (irb):9:in&lt;/code&gt;call&#39;</span>
</span><span class='line'> <span class="n">from</span> <span class="p">(</span><span class="n">irb</span><span class="p">):</span><span class="mi">9</span>
</span><span class='line'> <span class="n">from</span><span class="sr"> /Users/mi</span><span class="n">chi</span><span class="o">/.</span><span class="n">rvm</span><span class="o">/</span><span class="n">rubies</span><span class="o">/</span><span class="n">ruby</span><span class="o">-</span><span class="mi">1</span><span class="o">.</span><span class="mi">9</span><span class="o">.</span><span class="mi">2</span><span class="o">-</span><span class="n">p0</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">irb</span><span class="p">:</span><span class="mi">17</span><span class="ss">:in</span> <span class="sb">`&lt;main&gt;&#39;</span>
</span><span class='line'><span class="sb">l.call</span>
</span><span class='line'><span class="sb">=&gt; nil</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p></blockquote></blockquote></li>
</ol>


<p>I've known about this for a while, but as a Rubyists who until quite recently happily ignored Rails, I didn't know that ActiveSupport changes the "LocalJumpError" from the second example into</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sb">`call&#39;: Cannot yield from a Proc type filter.</span>
</span><span class='line'><span class="sb">   The Proc must take two arguments and execute</span>
</span><span class='line'><span class="sb">   #call on the second argument. (ArgumentError)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>when you try to return from callbacks like "before_save". I spent quite some time debugging this before I finally found the solution in this "blog post":http://obosan.blogspot.com/2008/11/blocksclosures-and-return.html. Instead of</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">after_save</span> <span class="k">do</span> <span class="o">|</span><span class="n">foo</span><span class="o">|</span>
</span><span class='line'>  <span class="k">return</span> <span class="k">if</span> <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'>  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>you have to do</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">after_save</span><span class="p">(</span><span class="nb">lambda</span> <span class="p">{</span> <span class="o">|</span><span class="n">foo</span><span class="o">|</span>
</span><span class='line'>  <span class="k">return</span> <span class="k">if</span><span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'>  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'><span class="p">})</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Probably obvious to more experienced Rails developers, but I really got thrown off by the "ArgumentError" that replaced the "LocalJumpError".</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Sinatra course at RubyLearning announced!]]></title>
    <link href="http://citizen428.net/blog/2009/02/25/sinatra-course-at-rubylearning-announced/"/>
    <updated>2009-02-25T00:00:00+01:00</updated>
    <id>http://citizen428.net/blog/2009/02/25/sinatra-course-at-rubylearning-announced</id>
    <content type="html"><![CDATA[<p>For a lot of people, Ruby became almost equivalent to "Rails":http://rubyonrails.org/, but this doesn't mean that Rubyists can't choose from a wider selection of web frameworks. One of them is the microframework "Sinatra":http://www.sinatrarb.com/, for which "RubyLearning":http://rubylearning.org will start a "course":http://rubylearning.com/blog/2009/02/25/introduction-to-sinatra-a-new-course/ on March 21st. Registration is open now, the price is a reasonable US$3 for the first 15 people to sign up, US$4 for the next 25 and finally US$5 for everyone after that. Yours truly will also be a mentor for this course and would be happy to see some of you there!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Some quick Ruby tips]]></title>
    <link href="http://citizen428.net/blog/2009/02/09/some-quick-ruby-tips/"/>
    <updated>2009-02-09T00:00:00+01:00</updated>
    <id>http://citizen428.net/blog/2009/02/09/some-quick-ruby-tips</id>
    <content type="html"><![CDATA[<p>Good news for OS X users: "Priit Haamer":http://www.priithaamer.com/ provides documentation for Ruby 1.9 and Rails as dictionaries for Dictionary.app, which makes them searchable by Spotlight ("Ruby documentation":http://www.priithaamer.com/blog/ruby-dictionary-for-mac-os-x, "Rails documentation":http://www.priithaamer.com/blog/updated-ruby-on-rails-dictionary)!</p>

<p>There also was a nice discussion over the last few days on "Ruby's Most Underused Keyword":http://www.rubyrailways.com/rubys-most-underused-keyword/, which is quite an interesting read (make sure you don't skip the comments).</p>

<p>Last but not least I want to point out "isitruby19.com":http://isitruby19.com/, a website that tests gems for their compatibility with the newest Ruby release.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Loads of links]]></title>
    <link href="http://citizen428.net/blog/2005/12/10/loads-of-links/"/>
    <updated>2005-12-10T00:00:00+01:00</updated>
    <id>http://citizen428.net/blog/2005/12/10/loads-of-links</id>
    <content type="html"><![CDATA[<p>I haven't blogged for quite some time now, so I decided I could at least entertain you with one of my semi-regular link dumps until I'm motivated enough to write a proper entry again...</p>

<p><em><em>Ruby</em></em></p>

<p>"RadRails":http://www.radrails.org/: From a rather recent mail on "ruby-talk":http://blade.nagaokaut.ac.jp/ruby/ruby-talk/index.shtml I learned about RadRails, an IDE for (who would've guessd) "Ruby on Rails":http://www.rubyonrails.org/ which was built using the <a href="http://www.eclipse.org/rcp">Eclipse RCP</a>. Unfortunately I didn't have too much time to play with it yet, but so far it seems to be quite nice and if you're into Rails you maybe should have a look at this project.</p>

<p>"eigenclass":http://eigenclass.org/: Recently "RedHanded":http://redhanded.hobix.com/ kept talking about Mauricio Fernandez' new blog called "eigenclass", which talks about a lot of really interesting and advanced Ruby stuff. Definitely an interesting read for every serious Ruby programmer and everyone who wants to become one.</p>

<p>"try ruby!":http://tryruby.hobix.com/: As I found out on "poignant-stiffs":http://rubyforge.org/pipermail/poignant-stiffs/ <a href="http://whytheluckystiff.net/">why</a> is at it again, which means there's something cool coming up. Despite not involving cartoon foxes or chunky bacon, "try ruby":http://tryruby.hobix.com/ is still a really neat project, giving you the opportunity to interactively test Ruby from within your web browser. There's also a little tutorial, so this site may very well become the first stop to send Nubies to...</p>

<p><em><em>Disobey</em></em></p>

<p>"The Hacktivist":http://www.thehacktivist.com/: Instead of summing up what the Hacktivist is all about, I'll just give you the self-description of the project: "<i>The Hacktivist is dedicated to examining the theory and practice of hacktivism and electronic civil disobedience while contributing to the evolution of hacktivism by promoting constructive debate, effective direct action, and creative solutions to complex problems in order to facilitate positive change.</i>" - Involve yourself!</p>

<p>"The World's Most Populated Countries":http://www.odt.org/Pictures/poplcart.jpg: Sometimes a new look on things helps changing your perspective in a positive way. That's why it's important to take a minute or two to think about this map of the Earth, where all the countries got resized in relation to their population.</p>

<p>"Church of the Flying Spaghetti Monster":http://www.venganza.org/index.htm: This comes from an open letter to the Kansas school board: "<i> I am writing you with much concern after having read of your hearing to decide whether the alternative theory of Intelligent Design should be taught along with the theory of Evolution. [...]  Let us remember that there are multiple theories of Intelligent Design. I and many others around the world are of the strong belief that the universe was created by a Flying Spaghetti Monster. It was He who created all that we see and all that we feel. We feel strongly that the overwhelming scientific evidence pointing towards evolutionary processes is nothing but a coincidence, put in place by Him</i>". Ramen!</p>

<div align="center"><a href="http://www.venganza.org"><img src="http://www.venganza.org/images/spreadword/th_jollyfish.jpg" alt="Do you believe?" /></a></div>


<p><em><em>Relax</em></em></p>

<p>"Unintentionally sexual comic book covers: Part 1":http://www.thebestpageintheuniverse.net/c.cgi?u=uscc_part1: If you know "The Best Page In The Universe":http://maddox.xmission.com/ you either love or hate Maddox. No matter to which group you belong, check out this collection of unintentionally sexual comic book covers and have a good laugh! (via <a href="http://hoodwink.d/onslaught/">hoodwink.d onslaught</a>)</p>

<p>"The Website Development Process":http://www.pingmag.jp/2005/12/09/the-website-development-process/: Learn everything important there is to know about the process of developing a professional website from platic figurines. (via <a href="http://www.boingboing.net/2005/12/09/plastic_figurines_gu.html">BoingBoing</a>)</p>

<p>"Squidoo":http://www.squidoo.com/: The developers of Squidoo thought that "Everyone's an expert on something", so they decided to give all of us the opportunity to share our knowledge in the form of "lenses". For all of you who are to lazy to look at the "FAQ":http://www.squidoo.com/pages/faq to find out what a lense is, here's the answer: "<I> A lens is one person's (lensmaster's) view on a topic he cares about. More specifically, a lens is a single web page filled with information and links that point to other web pages, to continually updated RSS feeds, or to relevant advertising. It's a place to start, not finish. </i>". Interesting concept, and there are some pretty cool lenses already. (via <a href="http://www.teemow.com/2005/12/07/squidoo/">teemow</a>).</p>

<p>Setting Orange, The Aftermath 53, 3171 YOLD</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[So what's the word? RUBY!]]></title>
    <link href="http://citizen428.net/blog/2005/11/18/so-whats-the-word-ruby/"/>
    <updated>2005-11-18T00:00:00+01:00</updated>
    <id>http://citizen428.net/blog/2005/11/18/so-whats-the-word-ruby</id>
    <content type="html"><![CDATA[<p>This week I finally had a little more time to work on Gentoo related things again, so I commited some overdue packages to the tree.</p>

<p>The action started on Tuesday, when I commited the 20+ ebuilds from "ruby-gnome-0.14.1":http://ruby-gnome2.sourceforge.jp/ (mostly version bumps plus a few new packages like "ruby-gtkmozembed":http://ruby-gnome2.sourceforge.jp/hiki.cgi?RubyZilla). Quite a lot of users have been waiting for this, as the previous version we had in the tree (0.12.0) didn't play nicely with GTK+ 2.8/GNOME 2.12. This problems are now sorted, so that quite a few bugs could be closed and marked fixed. :)</p>

<p>And then "George released Nitro 0.25.0":http://www.gmosx.com/article/2 yesterday, which found its way into the tree only hours later. This has mainly to do with the fact that I already had everything in place from the 0.24.0 release, which I then never commited because George said that there soon will be a release focussed on bug fixes and code clean-up. Apparently this has worked out nicely, so go ahaed, emerge "Nitro":http://www.nitrohq.com/ and play around with it, I'm sure you'll like it.</p>

<p>In the evening "we":http://aglug.net had our montly Viennese Gentoo users meetup, which as always was really funny. I came home pretty late and my head still hurts, but it definitely was among the most entertaining evenings in the last few weeks. Thanks guys!</p>

<p>Boomtime, The Aftermath 30, 3171 YOLD</p>
]]></content>
  </entry>
  
</feed>
