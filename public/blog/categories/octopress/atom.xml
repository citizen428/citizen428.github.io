<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: octopress | citizen428.blog()]]></title>
  <link href="http://citizen428.net/blog/categories/octopress/atom.xml" rel="self"/>
  <link href="http://citizen428.net/"/>
  <updated>2013-09-01T23:23:22+08:00</updated>
  <id>http://citizen428.net/</id>
  <author>
    <name><![CDATA[Michael Kohl]]></name>
    <email><![CDATA[citizen428@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Octopress Customizations]]></title>
    <link href="http://citizen428.net/blog/2011/10/10/octopress-customizations/"/>
    <updated>2011-10-10T19:59:00+08:00</updated>
    <id>http://citizen428.net/blog/2011/10/10/octopress-customizations</id>
    <content type="html"><![CDATA[<p>I finally found some time to give this blog a less generic look, which was really easy thanks to <a href="http://octopress.org/docs/theme/">Octopress&rsquo;s great theme and customization support</a>.</p>

<p>First I changed some colors in <code>sass/custom/_colors.scss</code>:</p>

<p>{% codeblock lang:sass %}
$header-bg: #000;
$subtitle-color: lighten($header-bg, 58);
$nav-bg: desaturate(lighten(#FF7100, 18), 5)
$link-color: #FF7100;
$footer-bg: #CCC;
{% endcodeblock %}</p>

<p>Then I reduced the width of the body, the size of the dates and article titles as well as the codeblocks (all of this can be done in <code>sass/custom/_styles.scss</code>):</p>

<p>{% codeblock lang:sass %}
body {
  max-width: 1100px;
}
time {
  font-size: 14px;
}
h1 {
  font-size: 2.2em;
}
section {</p>

<blockquote><p>h1 {</p>

<pre><code>font-size: 1.5em;
</code></pre>

<p>  }
}
codeblock {</p>

<pre><code>font-size: 1.1em;
</code></pre>

<p>}
{% endcodeblock %}</p></blockquote>

<p>Last but not least I found some <a href="http://www.elegantthemes.com/blog/resources/free-social-media-icon-set">excellent free social media icons</a> for the sidebar.</p>

<p>I hope you like the changes, I do and I was also pleasantly surprised how easy it is to change the look of an Octopress blog.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Octopress Templates]]></title>
    <link href="http://citizen428.net/blog/2011/09/27/octopress-templates/"/>
    <updated>2011-09-27T16:58:00+08:00</updated>
    <id>http://citizen428.net/blog/2011/09/27/octopress-templates</id>
    <content type="html"><![CDATA[<p>When deciding to switch from Wordpress to Octopress one of the main reasons was that I don&rsquo;t need most of the advanced features the former offers. However, for my weekly <a href="http://citizen428.net/blog/categories/informationoverload/">Information Overload</a> series I relied on two features, namely templates and scheduling: I created a new post from the template and then filled it with content over the week. Once I was done I&rsquo;d schedule it for publishing on Sunday afternoon. Here&rsquo;s how I plan to do this with Octopress.<!-- more --></p>

<h2>Templating</h2>

<p>I created a new Rake task named &ldquo;new_overload&rdquo;, that looks like this:</p>

<p>{% codeblock lang:ruby %}
desc &ldquo;Create a new Information Overload template #{source_dir}/#{posts_dir}&rdquo;
task :new_overload do
  raise &ldquo;### You haven&rsquo;t set anything up yet. First run <code>rake install</code> to set up an Octopress theme.&rdquo; unless File.directory?(source_dir)
  require &lsquo;date&rsquo;
  require &lsquo;./plugins/titlecase.rb&rsquo;
  mkdir_p &ldquo;#{source_dir}/#{posts_dir}&rdquo;
  date = (Date.today + (7-Date.today.wday))
  title = &ldquo;Information Overload #{date.strftime(&rdquo;%Y-%m-%d")}&ldquo;
  filename = &rdquo;#{source_dir}/#{posts_dir}/#{date.strftime(&lsquo;%Y-%m-%d&rsquo;)}&ndash;#{title.to_url}.#{new_post_ext}&ldquo;
  if File.exist?(filename)</p>

<pre><code>abort("rake aborted!") if ask("#{filename} already exists. Do you want to overwrite?", ['y', 'n']) == 'n'
</code></pre>

<p>  end
  puts &ldquo;Creating new post: #{filename}&rdquo;
  open(filename, &lsquo;w&rsquo;) do |post|</p>

<pre><code>system "mkdir -p #{source_dir}/#{posts_dir}/";
post.puts "---"
post.puts "layout: post"
post.puts "title: \"#{title.gsub(/&amp;/,'&amp;amp;').titlecase}\""
post.puts "date: #{Time.now.strftime('%Y-%m-%d %H:%M')}"
post.puts "comments: true"
post.puts "categories: "
post.puts "published: false"
post.puts "---"
post.puts "* []()\n" * 10
</code></pre>

<p>  end
end
{% endcodeblock %}</p>

<p>This is very similar to the standard &ldquo;new_post&rdquo; task, but generates
the post with the date of the current week&rsquo;s Sunday. It also marks it
as a draft by adding &ldquo;published: false&rdquo; to the YAML header and inserts
a template for an unordered list in Markdown syntax.</p>

<p>I&rsquo;m not exactly sure how to handle the scheduling yet, but I think
good old <a href="http://en.wikipedia.org/wiki/At_(Unix">at</a> will come in
handy here.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Goodbye Wordpress]]></title>
    <link href="http://citizen428.net/blog/2011/09/26/goodbye-wordpress/"/>
    <updated>2011-09-26T21:00:00+08:00</updated>
    <id>http://citizen428.net/blog/2011/09/26/goodbye-wordpress</id>
    <content type="html"><![CDATA[<p>After using <a href="http://wordpress.org/">Wordpress</a> as my blogging engine
of choice for over a year (after moving away from <a href="http://s9y.org/">S9Y</a>), I decided to switch this site to
<a href="http://octopress.org/">Octopress</a>. Why? Because it&rsquo;s cool!
No, seriously. I was actually quite happy with WP, it just always felt
like way more than I actually needed. OP on the other hand is super
lightweight, ritten in Ruby and uses some of my favorite technologies,
like Sinatra and Markdown. It doesn&rsquo;t stop there though: having the site rendered to static
files means I can get rid of MySQL and PHP on my little VPS, which
definitely is a plus. And it&rsquo;s also very cool to have all your posts
in a directory on your local file system, so you can use all your
favorite command line tools to search through or batch modify
them. Last but not least I&rsquo;m now writing my posts in Emacs instead of
some crappy web input form (ok, granted, I could have done that before
too).</p>

<p>Now to the actual migration. I started by exporting my WP blog to
XML. This can be done in the administration backend under &ldquo;Tools &ndash;
Export&rdquo;. Once I had this XML, I used the following script to convert
the posts to individual files for Octopress:</p>

<p>{% gist 1240781 %}</p>

<p>This was a fork of
<a href="https://gist.github.com/1240781/ac8a139bf73232c4333f0cc5734151cf8e5d1f87">another script</a>,
but tailored for my specific needs (e.g. all tags and categories of a
post were converted to categories and I exported the files to Textile
instead of Markdown because I used the former in my WP install through
a plugin).</p>

<p>Since some of my posts are quite popular and get linked to a lot, I
didn&rsquo;t want to loose my old links. I therefore wrote another script
that created 301 redirects for all of them:</p>

<p>{% gist 1241762 %}</p>

<p>The script can generate the necessary directives for Apache or Nginx,
so all you have to do is copy them into your web server
configuration. I also added another redirect rule for the RSS feed to
not annoy my subscribers:</p>

<p><code>
RewriteRule ^/feed /atom.xml [R=301,L]
</code></p>

<p>Of course I also didn&rsquo;t want to loose all my comments, so I had to
come up with a solution for that. I first
installed the WP <a href="http://disqus.com">Disqus</a> plugin and exported all
my current comments. I then used some good old Emacs magic to convert
the list of redirects I had already generated to a CSV for Disqus'
<a href="http://docs.disqus.com/help/39/">URL map migration tool</a>. So far this
has not migrated all comments to the correct location, but it should
eventually work out (worst case I&rsquo;ll have to email Disqus support).</p>

<p>Last but not least I used Octopress' excellent
<a href="http://octopress.org/docs/theme/template/index.html">customization suport</a>
to re-add some stuff to my headers, like the OpenID delegate.</p>

<p>Of course there are still some things that need to be done, some of them more urgently
then others. First off this site needs a better stylesheet. The
default is actually quite ok, but I want something with more
personality. I&rsquo;ll also have to go through my old posts and clean them
up a bit, the automatic conversion did some funny things at
times. I also want to re-integrate Flattr and PostRank, but I&rsquo;m not
exactly in a hurry when it comes to that.</p>

<p>I hope this post was useful to some of you, I&rsquo;m definitely happy with
my new blogging setup.</p>
]]></content>
  </entry>
  
</feed>
