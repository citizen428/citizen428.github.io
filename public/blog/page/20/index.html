
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>citizen428.blog()</title>
  <meta name="author" content="Michael Kohl">

  
  <meta name="description" content="As a little follow-up to my recent post on the Birthday Paradox I decided to clean up the code and also plot the relationship between group size and &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://citizen428.net/blog/page/20/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="citizen428.blog()" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<meta name="google-site-verification" content="bArHZu2u3n3GxMD_LR02GfyzeA-nYFOuaBuDbfJT07U" />
<meta name="verify-postrank" content="q9zqqyw" />
<link rel="openid.server" href="http://www.myopenid.com/server" />
<link rel="openid.delegate" href="http://citizen428.myopenid.com/" />

<script type="text/javascript">
/* <![CDATA[ */
    (function() {
        var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
        s.type = 'text/javascript';
        s.async = true;
        s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto';
        t.parentNode.insertBefore(s, t);
    })();
/* ]]> */
</script>


  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1416057-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">citizen428.blog()</a></h1>
  
    <h2>Try to learn something about everything</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:citizen428.net" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about/">About</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/projects">Projects</a></li>
  <li><a href="/talks_and_publications">Talks/Publications</a></li>
  <li><a href="/studynotes">Study Notes</a></li>
  <li><a href="/imprint/">Imprint</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/04/15/incanter-and-the-birthday-paradox/">Incanter and the Birthday Paradox</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-04-15T00:00:00-04:00" pubdate data-updated="true">Apr 15<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As a little follow-up to <a href="http://citizen428.net/archives/423-The-Birthday-Paradox-in-Clojure.html">my recent post on the Birthday Paradox</a> I decided to clean up the code and also plot the relationship between group size and the probability of a shared birthday with <a href="http://incanter.org/">Incanter</a> (mostly because I wanted to show off 1.2&#8217;s <a href="http://data-sorcery.org/2010/04/04/new-chart-theme/">hot new default theme</a>).</p>
<p>Code:<br />
<script src="http://gist.github.com/365172.js?file=gistfile2.clj"></script></p>
<p>Screenshot:</p>
<p><a href="http://twitpic.com/1ftr8f" title="Birthday Paradox plotted by Incanter on Twitpic"><img src="http://twitpic.com/show/thumb/1ftr8f.png" width="250" height="250" border="1" alt="Birthday Paradox plotted by Incanter on Twitpic" /></a></p>
<p>I just love how easy it is to explore problems like this with Clojure and then use Incanter go get some cute little plot too! :-)</p>
<p><b>Update</b>: Incanter&#8217;s author David Liebke sent me <a href="http://twitter.com/liebke/status/12242784190">a version of the above that fits into one tweet</a> and <a href="https://gist.github.com/6aa65685559cdb5b6e5e">another one with a Latex annotation</a>! I updated my code to incorporate some of his suggestions.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/04/13/wouldnt-it-be-nice-if-ruby/">Wouldn&#8217;t It Be Nice if Ruby&#8230;?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-04-13T00:00:00-04:00" pubdate data-updated="true">Apr 13<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I love questions that start with &#8220;Wouldn&#8217;t it be nice if Ruby &lt;insert perceived missing feature&gt;?&#8221; because more often than not the answer is: &#8220;Just tell it to!&#8221;</p>
<p>Something like this happened on RubyLearning today, when fellow mentor José asked &#8220;<i>Wouldn&#8217;t it be nice if Ruby was smart enough to realize that when a division has a remainder then it should use a floating result?</i>&#8221; and once again the answer was &#8220;You mean like this?&#8221;:</p>
<script src="http://gist.github.com/365000.js?file=gistfile1.ru"></script><p>I&#8217;m definitely not saying monkey-patching core classes with unexpected behavior is a smart idea (it&#8217;s <span class="caps">NOT</span>), but I always like how you can add behavior to Ruby if you really feel it&#8217;s necessary (and once again, I don&#8217;t in this case).</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/04/13/the-birthday-paradox-in-clojure/">The Birthday Paradox in Clojure</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-04-13T00:00:00-04:00" pubdate data-updated="true">Apr 13<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The <a href="http://en.wikipedia.org/wiki/Birthday_problem">Birthday Paradox</a> is an interesting little problem in probability theory. To quote Wikipedia:</p>
<blockquote><p>[&#8230;] the birthday problem, or birthday paradox pertains to the probability that in a set of randomly chosen people some pair of them will have the same birthday. In a group of at least 23 randomly chosen people, there is more than 50% probability that some pair of them will have the same birthday. Such a result is counter-intuitive to many.</p></blockquote>
<p>I don&#8217;t really find this counter-intuitive, but as Kalid from <a href="http://betterexplained.com/">BetterExplained</a> accurately <a href="http://betterexplained.com/articles/understanding-the-birthday-paradox/">observed</a> &#8220;exponents aren&#8217;t intuitive&#8221; and &#8220;humans are a tad bit selfish&#8221;. Here&#8217;s a quote regarding that last comment:</p>
<blockquote><p>In a room of 23, do you think of the 22 comparisons where your birthday is being compared against someone else’s? Probably.</p><p>Do you think of the 231 comparisons where someone you don’t know is being checked against someone else you don’t know? Do you realize there are so many? Probably not.</p><p>The fact that we neglect the 10 times as many comparisons that don’t include us helps us see why the “paradox” can happen.</p><footer><strong>Kalid Azad</strong> <cite><a href='http://betterexplained.com/articles/understanding-the-birthday-paradox/'>Understanding the Birthday Paradox</a></cite></footer></blockquote>
<p>So let&#8217;s use Clojure to see why math works better than people&#8217;s intuition:</p>
<script src="http://gist.github.com/365172.js?file=gistfile1.clj"></script><p>Happy birthday everyone!</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/04/12/curious-clojure-to-the-rescue/">Curious? Clojure to the Rescue!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-04-12T00:00:00-04:00" pubdate data-updated="true">Apr 12<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>When reading John Derbyshire&#8217;s excellent book <a href="http://www.amazon.com/Prime-Obsession-Bernhard-Greatest-Mathematics/dp/0309085497">Prime Obsession</a>, I stumbled upon the following interesting footnote about <a href="http://en.wikipedia.org/wiki/E_(mathematical_constant)">Euler&#8217;s number</a>:</p>
<p>&#8220;<i>Here is an example of e turning up unexpectedly. Select a random number between 0 and 1. Now select another and add it to the first. Keep doing this, piling on random numbers. How many random numbers, on average, do you need to make the total greater than 1? Answer: 2.71828&#8230;</i>&#8221;</p>
<p>Personally I found this rather intriguing, so I decided to try this out for myself. Clojure seemed to be an obvious choice for this, since it&#8217;s very easy to express ones thoughts in code.</p>
<p>Let&#8217;s start with a function that will tell us how many random numbers we needed to sum up to get over 1:</p>
<script src="http://gist.github.com/363888.js?file=gistfile1.clj"></script><p>Next we will create a function that will take n elements from an infinite list generated from another function:</p>
<script src="http://gist.github.com/363888.js?file=gistfile2.clj"></script><p>We are doing this because def-ing a seq will cache it:</p>
<script src="http://gist.github.com/363888.js?file=gistfile3.clj"></script><p>Now we have to find out how many numbers it takes on average to go over 1:</p>
<script src="http://gist.github.com/363888.js?file=gistfile4.clj"></script><p>Let&#8217;s wrap it all up and also display the results as floats:</p>
<script src="http://gist.github.com/363888.js?file=gistfile5.clj"></script><p>Sure enough, the results seem to be around the value of e, curiosity satisfied. Last but not least the final program in all its glory:</p>
<script src="http://gist.github.com/363888.js?file=gistfile6.clj"></script><p>Note: this will die with an <span class="caps">OOM</span> error when you try to calculate the average of a too long list. Fixing this is left as an exercise for the reader (&#8220;holding on to the head&#8221; will probably be useful as a search term).</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/03/03/move-ec2-amis-between-regions/">Move EC2 AMIs Between Regions</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-03-03T00:00:00-04:00" pubdate data-updated="true">Mar 3<span>rd</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Today I spent some time figuring out how to move <a href="http://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/index.html?creating-an-ami-ebs.html"><span class="caps">EBS</span>-backed AMIs</a> between different EC2 regions. To save you the effort, here&#8217;s a quick summary:<br />
<ul><br />
<li> create a volume from the snapshot backing the <span class="caps">AMI</span></li><br />
<li> attach this volume to a running instance and mount it</li><br />
<li> create a new volume in the target region</li><br />
<li> attach to a running instance, format and mount</li><br />
<li> in the source region, connect to your instance</li><br />
<li> rsync (over ssh, so no messing with security groups) the mounted volume to the target volume</li><br />
<li> once the rsync is done, create a snapshot in the target region</li><br />
<li> register this snapsho as new <span class="caps">AMI</span> with <a href="http://docs.amazonwebservices.com/AmazonEC2/dg/2007-01-03/CLTRG-register.html">ec2-register</a></li></p>
</ul>
<p>Not rocket science, but definitely not as good as just being able to share your own AMIs between regions&#8230;</p>
<p><strong>Update:</strong> Robert J. Berger wrote this <a href="http://blog.ibd.com/scalable-deployment/copy-an-ebs-ami-image-to-another-amazon-ec2-region/">detailed step by step guide</a> based on my short summary, you should go check it out!</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/02/25/plot-ec2-instance-usage-with-clojure-and-incanter/">Plot EC2 Instance Usage With Clojure and Incanter</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-02-25T00:00:00-04:00" pubdate data-updated="true">Feb 25<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Have you ever wondered which instance types you use most when dealing with Amazon&#8217;s EC2? I have, so I came up with a short Clojure/<a href="http://incanter.org">Incanter</a> program to plot a nice chart like this:<br />
<br />
<img src="http://twitpic.com/show/thumb/15byfe.png" width="150" height="150" alt="EC2 usage plotted by #incanter (@liebke) on Twitpic" border="1"><br />
<a href="http://twitpic.com/15byfe" title="EC2 usage plotted by incanter">(full size image)</a></p>
<p>Here&#8217;s the code, if you have any feedback please leave a comment, this was the first time I used Incanter.</p>
<script src="http://gist.github.com/315191.js?file=parse-ec2-report.clj"></script></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/02/25/comprehensive-list-of-cloud-related-links/">Comprehensive List of Cloud-related Links</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-02-25T00:00:00-04:00" pubdate data-updated="true">Feb 25<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Lately a lot of my working time is spent on cloud technologies, most notably the <a href="http://aws.amazon.com/">Amazon Web Services</a>. In recent month I compiled a rather comprehensive list of cloud-related links which I now decided to share with you all.</p>
<p><a href="http://gist.github.com/314445">Cloud Links</a></p>
<p>It&#8217;s just a markdown file copied into a Gist, so if you want to add any links just fork away! :-)</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/02/21/major-changes-in-clojurex/">Major Changes in ClojureX</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-02-21T00:00:00-04:00" pubdate data-updated="true">Feb 21<span>st</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>When ClojureX was started it tried to be everything for everybody. Not only did it checkout and compile the git HEADs of clojure, clojure-contrib and jline, it also (optionally) downloaded packages for Clojure support in TextMate or Emacs, configured and installed them. This has two obvious drawbacks. First off, people end up downloading stuff they don&#8217;t need. With current disk sizes and connection speeds that&#8217;s probably not much of a problem, but some users may still find annoying. More importantly though it was hard to keep up with the upstream changes, e.g. clojure-contrib&#8217;s recent switch to Maven.</p>
<p>So now instead of trying to provide a one-size-fits-all solution I&#8217;m taking a totally different approach: from now on ClojureX will only contain the most recent <strong>stable</strong> releases of clojure, clojure-contrib and jline, as well as a very full-featured clj script:</p>
<script src="http://gist.github.com/310392.js?file=ClojureX+help"></script><p>I know that this potentially makes ClojureX less useful to some people, but I do believe that it&#8217;s one of the fastest and most painless ways to set up a Clojure development environment.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/01/26/opensolaris-cheat-sheet/">OpenSolaris Cheat Sheet</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-01-26T00:00:00-04:00" pubdate data-updated="true">Jan 26<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve always been a big fan of the handy little utility <a href="http://cheat.errtheblog.com">cheat</a> and recently became interested in <a href="http://hub.opensolaris.org/bin/view/Main/">OpenSolaris</a> (which btw runs fine on my Thinkpad x200s), so I did the obvious and created an OpenSolaris cheat sheet:</p>
<p><a href="http://cheat.errtheblog.com/s/open_solaris">http://cheat.errtheblog.com/s/open_solaris</a></p>
<p>It&#8217;s still missing information regarding <span class="caps">ZFS</span>, but I guess I&#8217;ll eventually add that too. And who knows, maybe I even get motivated enough for a nicely formatted Latex version&#8230;</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/01/12/scary-ruby/">Scary Ruby</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-01-12T00:00:00-04:00" pubdate data-updated="true">Jan 12<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We all know that Ruby&#8217;s a flexible beast, but just how much you can bend it is almost scary. How about inheriting from a class randomly chosen at runtime? Sure, no problem:</p>
<script src="http://gist.github.com/275701.js?file=gistfile1.rb"></script><p>I dare you to find a use case for this ;-) And in case random isn&#8217;t good enough for you, why not have the user choose the superclass for you?</p>
<script src="http://gist.github.com/275701.js?file=gistfile2.rb"></script></div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/21/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/19/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>About citizen428</h1>
  <p>I&#8217;m Michael Kohl, generally known as citizen428 online. I mainly
  write about programming, and do a regular <a href="/blog/categories/informationoverload/">blog post series</a> collecting interesting
  articles I enjoyed throughout the week.</p>
<div id="social_media_icons" align="center">
<a href="http://twitter.com/citizen428"><img src="/images/icons/twitter.png"
                                             alt="Twitter" /></a>
<a href="https://plus.google.com/u/0/101046237539584353961/posts"><img src="/images/icons/google.png"
                                             alt="Twitter"
                                             /></a>
<a href="http://www.linkedin.com/in/citizen428"><img src="/images/icons/linkedin.png"
                                             alt="Twitter" /></a>
</div>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("citizen428", 3, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/citizen428" class="twitter-follow-button" data-show-count="true">Follow @citizen428</a>
  
</section>


<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/citizen428">@citizen428</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'citizen428',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Michael Kohl -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'citizen428-blog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
