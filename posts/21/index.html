
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>citizen428.blog()</title>
  <meta name="author" content="Michael Kohl">

  
  <meta name="description" content="On a weekend trip again, but managed to squeeze in quite a bit of reading during the week. Friends Without BenefitsWas there a paradigm shift in &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://citizen428.github.io/posts/21">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="citizen428.blog()" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<meta name="google-site-verification" content="bArHZu2u3n3GxMD_LR02GfyzeA-nYFOuaBuDbfJT07U" />

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1416057-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">citizen428.blog()</a></h1>
  
    <h2>Try to learn something about everything</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:citizen428.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about/">About</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/projects">Projects</a></li>
  <li><a href="/talks_and_publications">Output</a></li>
  <li><a href="/studynotes">Study Notes</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/imprint/">Imprint</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/10/03/information-overload-2010-10-02/">Information Overload 2010-10-02</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-10-03T00:00:00+07:00" pubdate data-updated="true">Oct 3<sup>rd</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>On a weekend trip again, but managed to squeeze in quite a bit of reading during the week.</p>
<ul>
<li><a href="http://www.newsweek.com/2010/09/24/the-sad-truth-about-the-facebook-movie.html">Friends Without Benefits</a><br>Was there a paradigm shift in Silicon Valley from hard science to pointless web 2.0 startups?</li>
<li><a href="http://jseliger.com/2010/09/26/how-universities-work-or-what-i-wish-i%E2%80%99d-known-freshman-year-a-guide-to-american-university-life-for-the-uninitiated/">How Universities Work</a><br>As the title implies this is about universities in the US, but a lot of it also holds true for academic institutions in Europe.</li>
<li><a href="http://www.telegraph.co.uk/news/worldnews/europe/germany/8029948/First-World-War-officially-ends.html">First World War officially ends</a><br>92 years after the end of the war, Germany will pay the last chunk of reparations imposed by the Treaty of Versailles.</li>
<li><a href="http://shellhaters.heroku.com/#1">The Shell Hater&#8217;s Handbook</a><br>Despite the name, this presentation by GitHubber <a href="http://tomayko.com/">Ryan Tomyako</a> is a nice intro to shell scripting. If you know a shell hater, send him a link to this presentation.</li>
<li><a href="http://www.nytimes.com/roomfordebate/2010/09/29/can-twitter-lead-people-to-the-streets/virtual-vs-real-protests">Virtual vs. Real Protests</a><br>Twitter &#8220;revolutions&#8221; and the confusion between &#8220;mobilization&#8221; and &#8220;organization&#8221;.</li>
<li><a href="http://www.newyorker.com/reporting/2010/10/04/101004fa_fact_gladwell">Small Change</a><br>Very much in the same vain as the previous article, Malcolm Gladwell talks about hierarchies vs. networks, strong vs. weak ties and why joining a Facebook group is not the same sort of activism as putting your life at risk in a real world conflict.</li>
<li><a href="http://bendauphinee.com/paythebills">Pay The Bills</a><br>Interesting experiment in earning some money while looking for a job.</li>
<li><a href="http://tier.cs.berkeley.edu/drupal/node/148">Software Development for Developing Regions: Another Hat for Hackers</a><br>Interesting idea about using skills like reversee engineering, code injection etc. for making software better suited to third world demands.</li>
<li><a href="http://www.economist.com/node/17147648">India&#8217;s surprising economic miracle</a><br>Will India&#8217;s economy thrive when the global economy becomes more knowledge-intensive?</li>
</ul></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/10/01/xml-diffs-with-bash-and-awk/">XML Diffs With Bash and Awk</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-10-01T00:00:00+07:00" pubdate data-updated="true">Oct 1<sup>st</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><i>Slightly modified version of a <a href="http://tupalo.com/en/blog/generating-xml-diffs-with-awk-and-bash/">post</a> I originally wrote for our <a href="http://tupalo.com/en/blog/">company blog</a>.</i></p>
<p>When importing data at work, we often have to deal with <span class="caps">XML</span>. This generally works fine, but the format&#8217;s structured nature also means that you can&#8217;t just treat it like any old text file.</p>
<p>That&#8217;s something we recently had to work around when we wanted to generate a daily <span class="caps">XML</span> diff, which only contains elements which changed since the previous feed. Of course there are several open source tools for diff-ing <span class="caps">XML</span> (e.g. <a href="http://diffxml.sourceforge.net/">diffxml</a> or <a href="http://www.logilab.org/859">xmldiff</a>) but since we didn&#8217;t get them to do what we want in a reasonable amount of time, we just decided to roll our own.</p>
<p>The final solution is a 71 line bash script, which downloads a zip, extracts it, generates <a href="http://en.wikipedia.org/wiki/MD5">MD5</a> sums for every element and then creates a diff between this new file and the previous list of MD5 sums. Once we know which elements have changed we merge them into a new feed which then gets handed to our importer. The awesome <a href="http://xmlstar.sourceforge.net/">xmlstarlet</a> was a great help in this, as was battle-tested old <a href="http://en.wikipedia.org/wiki/AWK">awk</a>.</p>
<p>Let&#8217;s look at an interesting snippet from the script:</p>
<div class='bogus-wrapper'><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span><br />
<span class='line-number'>2</span><br />
<span class='line-number'>3</span><br />
<span class='line-number'>4</span><br />
<span class='line-number'>5</span><br />
<span class='line-number'>6</span><br />
<span class='line-number'>7</span><br />
<span class='line-number'>8</span><br />
<span class='line-number'>9</span><br />
<span class='line-number'>10</span><br />
<span class='line-number'>11</span><br />
<span class='line-number'>12</span><br />
<span class='line-number'>13</span><br />
<span class='line-number'>14</span><br />
</pre></td><td class='code'><pre><code class='bash'>&lt;span class='line'&gt;xmlstarlet sel -I -t -m &lt;span class="s2"&gt;&amp;quot;//item&amp;quot;&lt;/span&gt; -v &lt;span class="s2"&gt;&amp;quot;./guid&amp;quot;&lt;/span&gt; -o &lt;span class="s2"&gt;&amp;quot;|&amp;quot;&lt;/span&gt; -c &lt;span class="s2"&gt;&amp;quot;.&amp;quot;&lt;/span&gt; -n - |
&lt;/span&gt;&lt;span class='line'&gt;  sed -e &lt;span class="s1"&gt;&amp;#39;...&amp;#39;&lt;/span&gt; |
&lt;/span&gt;&lt;span class='line'&gt;  awk &lt;span class="se"&gt;\&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;    &lt;span class="s1"&gt;&amp;#39;BEGIN {&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="s1"&gt;      FS=&amp;quot;|&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="s1"&gt;      RS=&amp;quot;\n&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="s1"&gt;    }&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="s1"&gt;    {&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="s1"&gt;      id=$1&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="s1"&gt;      command=&amp;quot;printf \&amp;quot;%s\&amp;quot; \&amp;quot;&amp;quot; $2 &amp;quot;\&amp;quot; | md5sum | cut -d\&amp;quot; \&amp;quot; -f1&amp;quot;&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="s1"&gt;      command | getline md5&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="s1"&gt;      close(command)&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="s1"&gt;      print id&amp;quot;:&amp;quot;md5&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="s1"&gt;    }&amp;#39;&lt;/span&gt; &amp;gt;&amp;gt; &lt;span class="nv"&gt;$MD5_DIR&lt;/span&gt;/vendor-md5-&lt;span class="nv"&gt;$TODAY&lt;/span&gt;
&lt;/span&gt;</code></pre></td><p></tr></table></div></figure></notextile></div></p>
<p>Here we use xmlstarlet to iterate over all the items in the feed (the <a href="http://www.w3.org/TR/xpath/">XPath</a> &#8220;//item&#8221;), print the value of the &#8220;guid&#8221; element (-v &#8220;./guid&#8221;), output a pipe character (-o &#8220;|&#8221;) and then copy the current element followed by a newline (-c &#8220;.&#8221; -n) . This then gets piped through sed for some cleaning up (which I omitted here for brevity&#8217;s sake) before awk takes the part after each &#8220;|&#8221;, generates an MD5 sum and finally produces a file that looks like this:</p>
<div class='bogus-wrapper'><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span><br />
<span class='line-number'>2</span><br />
<span class='line-number'>3</span><br />
</pre></td><td class='code'><pre><code class=''>&lt;span class='line'&gt;rKKTZ:4012fced7c4cd77da607d294fbb8b5b6
&lt;/span&gt;&lt;span class='line'&gt;hC7Jr:39245a0f9a976e6d47c0e2d76abf6238
&lt;/span&gt;&lt;span class='line'&gt;...&lt;/span&gt;</code></pre></td><p></tr></table></div></figure></notextile></div></p>
<p>Now that we are able to create a daily list of MD5 sums, it&#8217;s easy to generate the diff feed:</p>
<div class='bogus-wrapper'><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span><br />
<span class='line-number'>2</span><br />
<span class='line-number'>3</span><br />
<span class='line-number'>4</span><br />
<span class='line-number'>5</span><br />
<span class='line-number'>6</span><br />
<span class='line-number'>7</span><br />
<span class='line-number'>8</span><br />
<span class='line-number'>9</span><br />
<span class='line-number'>10</span><br />
</pre></td><td class='code'><pre><code class='bash'>&lt;span class='line'&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -e &lt;span class="nv"&gt;$MD5_DIR&lt;/span&gt;/vendor-md5-last &lt;span class="o"&gt;]&lt;/span&gt; ; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="k"&gt;  &lt;/span&gt;&lt;span class="nv"&gt;changed&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;diff &lt;span class="nv"&gt;$MD5_DIR&lt;/span&gt;/vendor-md5-last &lt;span class="nv"&gt;$MD5_DIR&lt;/span&gt;/vendor-md5-&lt;span class="nv"&gt;$TODAY&lt;/span&gt; |
&lt;/span&gt;&lt;span class='line'&gt;	   grep &lt;span class="s2"&gt;&amp;quot;^&amp;gt;&amp;quot;&lt;/span&gt; |
&lt;/span&gt;&lt;span class='line'&gt;           cut -d&lt;span class="s2"&gt;&amp;quot;:&amp;quot;&lt;/span&gt; -f 1 |
&lt;/span&gt;&lt;span class='line'&gt;           cut -b 1-2 --complement&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="k"&gt;for &lt;/span&gt;record in &lt;span class="nv"&gt;$changed&lt;/span&gt; ; &lt;span class="k"&gt;do&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="k"&gt;  &lt;/span&gt;&lt;span class="nv"&gt;f&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;fgrep -l &lt;span class="s2"&gt;&amp;quot;&amp;lt;guid&amp;gt;$record&amp;lt;/guid&amp;gt;&amp;quot;&lt;/span&gt; &lt;span class="nv"&gt;$FILE_PATTERN&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;span class='line'&gt;  xmlstarlet sel -I -t -c &lt;span class="s2"&gt;&amp;quot;/rss/channel/item[guid=&amp;#39;$record&amp;#39;]&amp;quot;&lt;/span&gt; &lt;span class="nv"&gt;$f&lt;/span&gt; &amp;gt;&amp;gt; vendor-import-&lt;span class="nv"&gt;$TODAY&lt;/span&gt;.xml
&lt;/span&gt;&lt;span class='line'&gt;&lt;span class="k"&gt;done&lt;/span&gt;
&lt;/span&gt;</code></pre></td><p></tr></table></div></figure></notextile></div></p>
<p>Here we create an array with the id of the changed elements over which we then iterate. In the loop we once again use xmlstarlet to extract the current item from the feed which contains the right guid.</p>
<p>I&#8217;m quite happy with the result, it does exactly what we want it to do and is also reasonably fast. This is a good example of how familiar Unix tools can be combined to create fairly concise solutions for non-trivial problem.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/26/information-overload-2010-09-26/">Information Overload 2010-09-26</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-26T00:00:00+07:00" pubdate data-updated="true">Sep 26<sup>th</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Being sick this week I had a lot of time to read, but most if it went into Bruce Sterling&#8217;s <a href="http://www.mit.edu/hacker/hacker.html">Hacker Crackdown</a> and Joe Dunthorne&#8217;s <a href="http://www.amazon.com/Submarine-Joe-Dunthorne/dp/0241143969">Submarine</a>. Anyway, here we go:</p>
<ul>
<li>&#8220;Did &#8216;Star Wars&#8217; become a toy story? &quot;:http://herocomplex.latimes.com/2010/08/12/star-wars-was-born-a-long-time-ago-but-not-all-that-far-far-away-in-1972-filmmakers-george-lucas-and-gary-kurtz-wer/<br>I admit to being quite a Star Wars nerd, the <a href="http://en.wikipedia.org/wiki/Han_shot_first">Han shot first</a> kind who pretends Episode I-<span class="caps">III</span> never happened and who actually sat through the entire <a href="http://en.wikipedia.org/wiki/The_Star_Wars_Holiday_Special">Holiday special</a>. If you are remotely like me, this article providing some insider information by <a href="http://en.wikipedia.org/wiki/Gary_Kurtz">Gary Kurtz</a> will be quite an interesting read.</li>
<li><a href="http://www.jsoftware.com/papers/camn.htm">Computers and Mathematical Notation</a><br>Interesting thoughts on how programming languages (<a href="http://en.wikipedia.org/wiki/J_(programming_language">J</a> in this case) could influence mathematical notation by Turing Award winner <a href="http://en.wikipedia.org/wiki/Kenneth_E._Iverson">Kenneth E. Iverson</a></li>
<li><a href="http://sheddingbikes.com/posts/1281257293.html">Common Programmer Health Problems</a><br>Some sane advice we all occasionally are guilty of ignoring.</li>
<li><a href="http://www.wired.com/wiredscience/2010/08/we-are-all-talk-radio-hosts/">We Are All Talk Radio Hosts</a><br>On strawberry jam, reasoning and cognitive bias.</li>
<li><a href="http://aidwatchers.com/2010/09/the-millennium-development-goal-that-really-does-work-has-been-forgotten/">The Millennium Development Goal that really does work has been forgotten</a><br>Sure, we&#8217;ll help you. Just not in a way so that you eventually can help yourself.</li>
<li><a href="http://www.theatlantic.com/technology/archive/2010/09/the-anthropology-of-hackers/63308/">The Anthropology of Hackers</a><br>Outline of anthropologist Gabriella Coleman&#8217;s course about hacker culture at <span class="caps">NYU</span>.</li>
<li><a href="https://blog.torproject.org/blog/ten-things-look-circumvention-tool">Ten things to look for in a circumvention tool</a><br>By Roger Dingledine of Tor fame.</li>
<li><a href="http://nostarch.com/download/Lisp08.pdf">This Ain&#8217;t Your Daddy&#8217;s Wumpus</a><br>Example chapter from the upcoming book <a href="http://nostarch.com/lisp.htm">Land of Lisp</a> (<span class="caps">PDF</span>).</li>
<li><a href="http://www.nytimes.com/2010/09/26/arts/design/26masdar.html?_r=1&amp;hp">In Arabian Desert, a Sustainable City Rises</a><br>The first residents are starting to move into <a href="http://en.wikipedia.org/wiki/Masdar_City">Masdar</a>, a planned city built in Abu Dhabi. There seems to be some discussion about how much of a &#8220;real&#8221; city Masdar will be, but then Dubai didn&#8217;t feel like a &#8220;real&#8221; place to me either, but more like a soulless agglomeration of skyscrapers and shopping malls.</li>
</ul></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/22/emacsclient-on-os-x/">Emacsclient on OS X</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-22T00:00:00+07:00" pubdate data-updated="true">Sep 22<sup>nd</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you are running a non-system Emacs on OS X and have tried to use &#8220;emacsclient&#8221;, you may have seen the following error message despite having started the Emacs server:</p>
<div class='bogus-wrapper'><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span><br />
<span class='line-number'>2</span><br />
<span class='line-number'>3</span><br />
<span class='line-number'>4</span><br />
<span class='line-number'>5</span><br />
<span class='line-number'>6</span><br />
<span class='line-number'>7</span><br />
</pre></td><td class='code'><pre><code class=''>&lt;span class='line'&gt;emacsclient: can't find socket; have you started the server?
&lt;/span&gt;&lt;span class='line'&gt;To start the server in Emacs, type "M-x server-start".
&lt;/span&gt;&lt;span class='line'&gt;emacsclient: No socket or alternate editor.  Please use:
&lt;/span&gt;&lt;span class='line'&gt;
&lt;/span&gt;&lt;span class='line'&gt;	--socket-name
&lt;/span&gt;&lt;span class='line'&gt;	--server-file      (or environment variable EMACS_SERVER_FILE)
&lt;/span&gt;&lt;span class='line'&gt;	--alternate-editor (or environment variable ALTERNATE_EDITOR)&lt;/span&gt;</code></pre></td><p></tr></table></div></figure></notextile></div></p>
<p>This doesn&#8217;t work because you are invoking &#8220;/usr/bin/emacsclient&#8221; which came with the OS, instead of &#8220;/Applications/Emacs.app/Contents/MacOS/bin/emacsclient&#8221;. This can easily be fixed by symlinking the latter to &#8220;/usr/local/bin/emacsclient&#8221; and making sure that &#8220;/usr/local/bin&#8221; is listed in your path before &#8220;/usr/bin&#8221;.</p>
<p>Not a big deal, but it took me a couple of minutes to figure out and I thought I might as well save others some time&#8230;</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/19/information-overload-2010-09-19/">Information Overload 2010-09-19</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-19T00:00:00+07:00" pubdate data-updated="true">Sep 19<sup>th</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This week &#8220;Information Overload&#8221; is back in full swing, and there really were lots of interesting things I stumbled upon:</p>
<ul>
<li><a href="http://www.youtube.com/watch?v=szNLMtgI7hU">The Biggest Company You&#8217;ve Never Heard Of</a><br>Interesting two and a half minute video about <a href="http://en.wikipedia.org/wiki/Serco">Serco</a>, a company I indeed never had heard of before.</li>
<li><a href="http://www.guardian.co.uk/world/2010/aug/01/goran-lindberg-sweden-crime-palme">Goran Lindberg and Sweden&#8217;s dark side</a><br>Are <a href="http://en.wikipedia.org/wiki/Stieg_Larsson">Stieg Larsson&#8217;s</a> novels closer to the truth than expectd?</li>
<li><a href="http://www.economist.com/node/16994770?story_id=16994770">Third Kim lucky?</a><br>This article suggests that <a href="http://en.wikipedia.org/wiki/Kim_Jong-un">Kim Jong-un</a> will become <a href="http://en.wikipedia.org/wiki/Kim_jong_il">Kim Jong-il&#8217;s</a> successor. I&#8217;d have expected a kind of military/party government after the latter&#8217;s retirement/death, let&#8217;s see what actually happens.</li>
<li><a href="http://www.time.com/time/health/article/0,8599,2016824,00.html">Genetic Scars of the Holocaust: Children Suffer Too</a><br><a href="http://en.wikipedia.org/wiki/Epigenetics">Epigenetics</a> in the context of Holocaust victims and their children. </li>
<li><a href="http://www.colourlovers.com/business/blog/2010/09/15/the-most-powerful-colors-in-the-world">The Most Powerful Colors in the World</a><br>With so many colors to choose from, companies don&#8217;t seem to be overly creative when deciding on their logos.</li>
<li><a href="http://www.zeit.de/gesellschaft/zeitgeschehen/todesopfer-rechter-gewalt">Todesopfer rechter Gewalt</a><br>Interactive map of of people who died due to right-wing violence in Germany. Also see <a href="http://www.tagesspiegel.de/politik/rechtsextremismus/137-todesopfer-rechter-gewalt/1934424.html">137 Todesopfer rechter Gewalt</a> for more information on the victims (both in German).</li>
<li><a href="http://sergioveiga.com/index.php/2010/09/16/itunes-remove-duplicated-songs/">Itunes Remove duplicated songs</a><br>It&#8217;s always nice to see something based on my blog posts, especially in this case where it was the first time ever I wrote something about Erlang.</li>
<li><a href="http://blog.jgc.org/2010/09/myth-of-boy-wizard.html">The Myth of the Boy Wizard</a><br>After the recently discovered flaw in <a href="http://www.haystacknetwork.com/">Haystack</a>, <a href="http://blog.austinheap.com/">Austin Heap</a> got a lot of flak. This article is an interesting take on the media&#8217;s role and responsibility in all of this.</li>
<li><a href="http://www.newscientist.com/special/zeros-to-heroes-10-unlikely-ideas-that-changed-the-world">Zeros to heroes: 10 unlikely ideas that changed the world</a><br>A good reminder to keep on hacking despite the odds.</li>
<li><a href="http://learnclojure.blogspot.com/2010/09/clojure-is-fast.html">Clojure is Fast</a><br>If you ever where curious just how fast you can get your Clojure code to run, this will provide some valuable insight.</li>
<li><a href="http://www.salon.com/news/opinion/glenn_greenwald/2010/08/30/assassinations/index.html">Lawsuit challenges Obama&#8217;s power to kill citizens without due process</a><br>You know a country is fucked once it needs a lawsuit like this.</li>
</ul></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/18/rubinius-has-a-new-fan/">Rubinius Has a New Fan</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-18T00:00:00+07:00" pubdate data-updated="true">Sep 18<sup>th</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Being kinda sick I decided to use the weekend for emptying out my <a href="http://www.instapaper.com/">Instapaper</a> account a little. Doing so I finally read <a href="http://www.engineyard.com/blog/2010/rubinius-wants-to-help-you-make-ruby-better/">Rubinius wants to help <span class="caps">YOU</span> make Ruby better</a> on the <a href="http://www.engineyard.com/blog/">Engine Yard blog</a>. This reminded me that it&#8217;s been over a year since I last looked at Rubinius, so I used the excellent <a href="http://rvm.beginrescueend.com/"><span class="caps">RVM</span></a> to get the latest version and started my experiments. Basically everything I threw at it just worked, except for some of my scripts using 1.9&#8217;s new lambda syntax. Speedwise it seems to be more in the <span class="caps">MRI</span> 1.8.7 than the 1.9.2 range, but that&#8217;s fair enough. Getting adventurous I decided to try how Rubinius would handle one of my all-time favorite Ruby annoyances, the inability to override <i>to_s</i> in subclasses of <i>String</I> (don&#8217;t ask, but this once cost me almost an entire afternoon).</p>
<p>Example:<br />
<div class='bogus-wrapper'><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">SubclassedString</span> <span class="o">&lt;</span> <span class="nb">String</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">to_s</span>
</span><span class='line'>    <span class="s2">&quot;overriden&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="nb">puts</span> <span class="no">SubclassedString</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;original&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></div></p>
<p>In <span class="caps">MRI</span> 1.8.7, <span class="caps">MRI</span> 1.9.2, JRuby <span class="caps">HEAD</span> and MacRuby 0.6 this will output &#8220;original&#8221;, which I believe to have tracked down to <i>rb_obj_as_string</i> in string.c in the <span class="caps">MRI</span> source (no idea about the other implementations). To my great surprise Rubinius 1.0.1 actually output &#8220;overriden&#8221;, which instantly won it a new fan. :-)</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/14/my-first-week-with-the-kindle-3/">My First Week With the Kindle 3</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-14T00:00:00+07:00" pubdate data-updated="true">Sep 14<sup>th</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>tl;dr: Kindle 3 == teh awesum.</p>
<p>One week ago I finally got my <a href="http://www.amazon.com/Kindle-Wireless-Reader-Wifi-Graphite/dp/B002Y27P3M">Kindle 3</a> and it&#8217;s about time for a review. Here we go: Awesome! That&#8217;s it, &#8217;nuff said. In all seriousness, the Kindle may well be my favorite gadget and that comes from somebody who owns a MacBook Pro, an Android phone, an iPod Touch and a Nintendo DS.</p>
<p>First off, at around 180 Euro for the WiFi+3G version it&#8217;s quite a bargain. I love the form factor, and the software is quite ok too, especially after the latest update. The built-in dictionary has already proven to be useful on several occasions and I&#8217;m sure I&#8217;ll start using the annotation feature rather sooner than later. But now for the most important part, the <a href="http://en.wikipedia.org/wiki/Electronic_paper">e-paper</a> display. It&#8217;s an absolute pleasure to read on, I find the experience to be highly immersive. Since Saturday I read most of Cory Doctorow&#8217;s novel <a href="http://craphound.com/littlebrother/download/">Little Brother</a> on it, and am surprised how the Kindle just seems to disappear while I read. Hands-free reading without the need to keep the book open is pretty sweet too.</p>
<p>As a book nerd and regular reader (I usually read between 50-60 books a year) I still can&#8217;t entirely abandon paper books though, there&#8217;s just something magical about their feel and smell. I also tend to pick up a lot of my reading material from second-hand shops, <a href="http://www.bookcrossing.com/">Bookcrossing</a> or <a href="http://www.offener-buecherschrank.at/">Offener Buecherschrank</a>, something which is not possible for eBooks (yet). However, the Kindle is great for reading all the great freely available books like Peter Watt&#8217;s <a href="http://www.rifters.com/real/shorts.htm">Rifters</a> trilogy, or the <a href="http://www.gutenberg.org/wiki/Main_Page">Project Gutenberg</a> texts which I mostly ignored so far because I find it too annoying to read them on a computer screen (programming eBooks are a different matter, I <strong>want</strong> to read them on my screen so I can easily switch to an editor and try out things).</p>
<p>As should be obvious by now, I&#8217;m pretty stoked by my new toy. There is however one app that makes it even more awesome, <a href="http://calibre-ebook.com/">Calibre</a>. While it has a pretty ugly UI, it&#8217;s jam-packed with <a href="http://calibre-ebook.com/demo">useful features</a> every eBook user will appreciate. I especially love the ability to fetch <span class="caps">RSS</span> feeds and convert them into Kindle &#8220;magazines&#8221;: every morning Calibre fetches the feeds of several of my favorite online publications, converts them and emails them to my Kindle where I can later read them. Users can contribute their own recipes for this and some of them are just amazing (e.g. the one for Austrian newspaper <a href="http://derstandard.at/">Der Standard</a> is basically of equal &#8211; or better &#8211; quality as the commercial offers in the Kindle store). Of course the program also can deal with authentication, so it&#8217;s no problem to access my subscription of the English edition of <a href="http://mondediplo.com/">Le Monde diplomatique</a> or my unread <a href="http://www.instapaper.com/">Instapaper</a> items. Recipes are Python scripts by the way, so it&#8217;s easy to modify or create them. All in all an absolutely fantastic piece of software, which I happily donated money to! :-)</p>
<p>If you are looking for an eBook reader, it&#8217;s probably hard to find better value for money than the new Kindle. I&#8217;ve been wanting to buy one for the last 6 month or so, but am very happy that I waited until now. It&#8217;s everything I expected from such a device, plus a bit more.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/13/information-overload-2010-09-13/">Information Overload 2010-09-13</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-13T00:00:00+07:00" pubdate data-updated="true">Sep 13<sup>th</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Due to an extended weekend trip this issue of &#8220;Information Overload&#8221; is much shorter and a bit later than usual, the next one should be back to normal:</p>
<ul>
<li><a href="http://vanemden.wordpress.com/2010/08/21/who-killed-prolog/">Who Killed Prolog</a><br>Interesting read for programming language nerds, also contains interesting info on how the Japanese economy was feared by the US in the 80ies.</li>
<li><a href="http://www.heise.de/tp/r4/artikel/32/32381/1.html">Obama ist nur ein normaler, gemaessigter Demokrat im Stil von Bill Clinton</a><br>Interview with Noam Chomsky in German.</li>
</ul></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/05/information-overload-2010-09-05/">Information Overload 2010-09-05</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-05T00:00:00+07:00" pubdate data-updated="true">Sep 5<sup>th</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul>
<li><a href="http://nathanmarz.com/blog/clojure-or-how-i-learned-to-stop-worrying-and-love-the-paren.html">Clojure or: How I Learned to Stop Worrying and Love the Parentheses</a><br>Blog post explaining what draws the author &#8211; and many others &#8211; to Clojure.</li>
<li><a href="http://dlowe-wfh.blogspot.com/2007/06/tactics-tactics-tactics.html">tactics, tactics, tactics</a><br>How to get better at programming. And chess.</li>
<li><a href="http://www.wissenslogs.de/wblogs/blog/die-sankore-schriften/wissenschaftsgeschichte/2010-08-19/die-sankor-schriften">Die Sankore-Schriften</a><br>Little history of the Sankore university in Timbuktu, Mali (in German).</li>
<li><a href="http://www.next-gen.biz/features/the-making-of-little-computer-people">The Making Of: Little Computer People</a><br>I love video game history, especially when it deals with games who influenced very successful titles later on.</li>
<li><a href="http://www.bloomberg.com/news/2010-08-31/sleep-deprivation-may-trigger-mental-problems-in-young-people-study-finds.html">Sleep Deprivation May Spur Serious Mental Problems, Study Finds</a><br>A little reminder to all us geeks, nerds and hackers that sleep does play an important role in our overall well-being.</li>
<li><a href="http://www.guardian.co.uk/lifeandstyle/2010/aug/28/29-years-solitary-confinement-robert-king">Experience: I spent 29 years in solitary confinement</a><br>Robert Kind who spent 29 years in solitary confinement for crimes he didn&#8217;t commit talks about his experience.</li>
<li><a href="http://math.stackexchange.com/questions/2755/why-can-you-turn-clothing-right-side-out">Why can you turn clothing right-side-out?</a><br>Math is everywhere.</li>
<li><a href="http://www.economist.com/node/16886442?story_id=16886442&amp;CFID=142315524&amp;CFTOKEN=99196615">Brazilian agriculture:The miracle of the cerrado</a><br>Very interesting article on how Brazil transformed itself into one of the world&#8217;s biggest food exporters.</li>
</ul></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/04/erlang-bit-syntax-and-id3/">Erlang Bit Syntax and ID3</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-04T00:00:00+07:00" pubdate data-updated="true">Sep 4<sup>th</sup>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A couple of days ago I finally started properly looking at <a href="http://www.erlang.org/">Erlang</a> for the first time. One aspect I find especially interesting is the <a href="http://www.erlang.org/documentation/doc-5.6/doc/programming_examples/bit_syntax.html">bit syntax</a>, so I wrote a small program for parsing <a href="http://www.id3.org/ID3v1">ID3v1 tags</a> for practice. There’s definitely room for improvement (I ignored ID3v1.1), but it was a fun little exercise.
Here’s the code:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="p">-</span><span class="ni">module</span><span class="p">(</span><span class="n">mp3</span><span class="p">).</span>
</span><span class='line'><span class="p">-</span><span class="ni">export</span><span class="p">([</span><span class="n">get_id3</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span> <span class="n">get_tags</span><span class="o">/</span><span class="mi">2</span><span class="p">]).</span>
</span><span class='line'>
</span><span class='line'><span class="nf">get_id3</span><span class="p">(</span><span class="nv">File</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="k">case</span> <span class="nn">file</span><span class="p">:</span><span class="n">open</span><span class="p">(</span><span class="nv">File</span><span class="p">,</span> <span class="p">[</span><span class="n">read</span><span class="p">,</span> <span class="n">binary</span><span class="p">])</span> <span class="k">of</span>
</span><span class='line'>        <span class="p">{</span><span class="n">ok</span><span class="p">,</span> <span class="nv">MP3</span><span class="p">}</span> <span class="o">-&gt;</span>
</span><span class='line'>            <span class="nv">Result</span> <span class="o">=</span> <span class="k">case</span> <span class="nn">file</span><span class="p">:</span><span class="n">pread</span><span class="p">(</span><span class="nv">MP3</span><span class="p">,</span> <span class="p">{</span><span class="n">eof</span><span class="p">,</span> <span class="o">-</span><span class="mi">128</span><span class="p">},</span> <span class="mi">128</span><span class="p">)</span> <span class="k">of</span>
</span><span class='line'>                <span class="p">{</span><span class="n">eof</span><span class="p">}</span> <span class="o">-&gt;</span> <span class="n">eof</span><span class="p">;</span>
</span><span class='line'>                <span class="p">{</span><span class="n">error</span><span class="p">,</span> <span class="nv">Reason</span><span class="p">}</span> <span class="o">-&gt;</span> <span class="nv">Reason</span><span class="p">;</span>
</span><span class='line'>                <span class="p">{</span><span class="n">ok</span><span class="p">,</span> <span class="o">&lt;&lt;</span><span class="s">&quot;TAG&quot;</span><span class="p">,</span> <span class="nv">Tags</span><span class="o">/</span><span class="n">binary</span><span class="o">&gt;&gt;</span><span class="p">}</span> <span class="o">-&gt;</span> <span class="n">parse_id3</span><span class="p">(</span><span class="nv">Tags</span><span class="p">);</span>
</span><span class='line'>                <span class="p">{</span><span class="n">ok</span><span class="p">,</span> <span class="p">_}</span> <span class="o">-&gt;</span> <span class="n">no_id3</span>
</span><span class='line'>            <span class="k">end</span><span class="p">,</span>
</span><span class='line'>            <span class="nn">file</span><span class="p">:</span><span class="n">close</span><span class="p">(</span><span class="nv">MP3</span><span class="p">),</span>
</span><span class='line'>            <span class="nv">Result</span><span class="p">;</span>
</span><span class='line'>        <span class="p">{</span><span class="n">error</span><span class="p">,</span> <span class="nv">Reason</span><span class="p">}</span> <span class="o">-&gt;</span> <span class="nv">Reason</span>
</span><span class='line'>    <span class="k">end</span><span class="p">.</span>
</span><span class='line'>
</span><span class='line'><span class="nf">get_tags</span><span class="p">(</span><span class="nv">Tags</span><span class="p">,</span> <span class="nv">L</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="nn">lists</span><span class="p">:</span><span class="n">map</span><span class="p">(</span><span class="k">fun</span> <span class="p">(</span><span class="nv">Tag</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nn">proplists</span><span class="p">:</span><span class="n">get_value</span><span class="p">(</span><span class="nv">Tag</span><span class="p">,</span> <span class="nv">L</span><span class="p">)</span> <span class="k">end</span><span class="p">,</span> <span class="nv">Tags</span><span class="p">).</span>
</span><span class='line'>
</span><span class='line'><span class="nf">parse_id3</span><span class="p">(</span><span class="o">&lt;&lt;</span><span class="nv">T</span><span class="p">:</span><span class="mi">30</span><span class="o">/</span><span class="n">binary</span><span class="p">,</span><span class="nv">Ar</span><span class="p">:</span><span class="mi">30</span><span class="o">/</span><span class="n">binary</span><span class="p">,</span><span class="nv">Al</span><span class="p">:</span><span class="mi">30</span><span class="o">/</span><span class="n">binary</span><span class="p">,</span><span class="nv">Y</span><span class="p">:</span><span class="mi">4</span><span class="o">/</span><span class="n">binary</span><span class="p">,</span><span class="nv">C</span><span class="p">:</span><span class="mi">30</span><span class="o">/</span><span class="n">binary</span><span class="p">,</span><span class="nv">G</span><span class="p">:</span><span class="mi">1</span><span class="o">/</span><span class="n">binary</span><span class="o">&gt;&gt;</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="nv">Clean</span> <span class="o">=</span> <span class="nn">lists</span><span class="p">:</span><span class="n">map</span><span class="p">(</span><span class="k">fun</span> <span class="n">cleanup</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="nv">T</span><span class="p">,</span> <span class="nv">Ar</span><span class="p">,</span> <span class="nv">Al</span><span class="p">,</span> <span class="nv">Y</span><span class="p">,</span> <span class="nv">C</span><span class="p">,</span> <span class="nv">G</span><span class="p">]),</span>
</span><span class='line'>    <span class="p">{</span><span class="n">id3v1</span><span class="p">,</span> <span class="nn">lists</span><span class="p">:</span><span class="n">zip</span><span class="p">([</span><span class="n">title</span><span class="p">,</span> <span class="n">artist</span><span class="p">,</span> <span class="n">album</span><span class="p">,</span> <span class="n">year</span><span class="p">,</span> <span class="n">comment</span><span class="p">,</span> <span class="n">genre</span><span class="p">],</span> <span class="nv">Clean</span><span class="p">)}.</span>
</span><span class='line'>
</span><span class='line'><span class="nf">cleanup</span><span class="p">(</span><span class="nv">T</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'>    <span class="nn">lists</span><span class="p">:</span><span class="n">filter</span><span class="p">(</span><span class="k">fun</span><span class="p">(</span><span class="nv">X</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nv">X</span> <span class="o">=/=</span> <span class="mi">0</span> <span class="k">end</span><span class="p">,</span> <span class="nb">binary_to_list</span><span class="p">(</span><span class="nv">T</span><span class="p">)).</span>
</span></code></pre></td></tr></table></div></figure>


<p>Lets see this in action in the Erlang shell (the MP3 comes from a similar exercise in <a href="http://rubylearning.org/class/course/category.php?id=2">RubyLearning’s core Ruby course</a>):</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">147</span><span class="o">&gt;</span> <span class="c">% file doesn’t exist</span>
</span><span class='line'><span class="mi">147</span><span class="o">&gt;</span> <span class="nn">mp3</span><span class="p">:</span><span class="nf">get_id3</span><span class="p">(</span><span class="err">“</span><span class="p">.</span><span class="o">/</span><span class="n">test</span><span class="p">.</span><span class="n">txt</span><span class="err">”</span><span class="p">).</span>
</span><span class='line'><span class="n">enoent</span>
</span><span class='line'><span class="mi">148</span><span class="o">&gt;</span> <span class="c">% file is not an MP3</span>
</span><span class='line'><span class="mi">148</span><span class="o">&gt;</span> <span class="nn">mp3</span><span class="p">:</span><span class="nf">get_id3</span><span class="p">(</span><span class="err">“</span><span class="p">.</span><span class="o">/</span><span class="n">test</span><span class="p">.</span><span class="n">clj</span><span class="err">”</span><span class="p">).</span>
</span><span class='line'><span class="n">no_id3</span>
</span><span class='line'><span class="mi">150</span><span class="o">&gt;</span> <span class="c">% get the tags</span>
</span><span class='line'><span class="mi">150</span><span class="o">&gt;</span> <span class="p">{</span><span class="n">id3v1</span><span class="p">,</span> <span class="nv">Tags</span><span class="p">}</span> <span class="o">=</span> <span class="nn">mp3</span><span class="p">:</span><span class="nf">get_id3</span><span class="p">(</span><span class="err">“</span><span class="n">song</span><span class="p">.</span><span class="n">mp3</span><span class="err">”</span><span class="p">).</span>
</span><span class='line'><span class="p">{</span><span class="n">id3v1</span><span class="p">,[{</span><span class="n">title</span><span class="p">,</span><span class="err">“</span><span class="nv">Dancing</span> <span class="nv">Shoes</span><span class="err">”</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">artist</span><span class="p">,</span><span class="err">“</span><span class="nv">Cliff</span> <span class="nv">Richard</span> <span class="ow">and</span> <span class="nv">The</span> <span class="nv">Shadows</span><span class="err">”</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">album</span><span class="p">,</span><span class="err">“</span><span class="p">(</span><span class="nv">SUMMER</span> <span class="nv">HOLIDAY</span> <span class="mi">1963</span><span class="p">)</span><span class="err">”</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">year</span><span class="p">,</span><span class="err">“</span><span class="mi">2000</span><span class="err">”</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">comment</span><span class="p">,</span><span class="err">“</span><span class="nv">Rubylearningr</span><span class="err">”</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">genre</span><span class="p">,[</span><span class="mi">24</span><span class="p">]}]}</span>
</span></code></pre></td></tr></table></div></figure>


<p>I’m too new to Erlang to judge if this is a proper use of a <a href="http://www.erlang.org/doc/man/proplists.html">property list</a>, but it allowed me to write <em>get_tags/2</em> as a wrapper for
<em>proplists:get_value/2</em> which is rather nice:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">151</span><span class="o">&gt;</span> <span class="nn">mp3</span><span class="p">:</span><span class="nf">get_tags</span><span class="p">([</span><span class="n">artist</span><span class="p">],</span> <span class="nv">Tags</span><span class="p">).</span>
</span><span class='line'><span class="p">[</span><span class="err">“</span><span class="nv">Cliff</span> <span class="nv">Richard</span> <span class="ow">and</span> <span class="nv">The</span> <span class="nv">Shadows</span><span class="err">”</span><span class="p">]</span>
</span><span class='line'><span class="mi">152</span><span class="o">&gt;</span> <span class="nn">mp3</span><span class="p">:</span><span class="nf">get_tags</span><span class="p">([</span><span class="n">artist</span><span class="p">,</span> <span class="n">year</span><span class="p">],</span> <span class="nv">Tags</span><span class="p">).</span>
</span><span class='line'><span class="p">[</span><span class="err">“</span><span class="nv">Cliff</span> <span class="nv">Richard</span> <span class="ow">and</span> <span class="nv">The</span> <span class="nv">Shadows</span><span class="err">”</span><span class="p">,</span><span class="err">“</span><span class="mi">2000</span><span class="err">”</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>Some initial help came from <a href="http://bigdingus.com/2007/05/27/id3v1-tags-via-erlang/">this related blog post</a>, but I think our versions came out quite differently in the end.</p>

<p>All in all Erlang feels quite nice, except for minor syntactic quirks like different statement modifiers depending on context or the need to “extract” a local function with <em>fun</em> for the call in <em>lists:map/2</em>. Any feedback would be much appreciated, I’m sure there’s plenty of things I could have done better.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/22">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/20">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>About citizen428</h1>
  <p>I&#8217;m Michael Kohl, generally known as citizen428 online. I mainly
  write about programming, and do a regular <a href="/blog/categories/informationoverload/">blog post series</a> collecting interesting
  articles I enjoyed throughout the week.</p>
<div id="social_media_icons" align="center">
<a href="http://twitter.com/citizen428"><img src="/images/icons/twitter.png"
                                             alt="Twitter" /></a>
<a href="https://plus.google.com/u/0/101046237539584353961/posts"><img src="/images/icons/google.png"
                                             alt="Twitter"
                                             /></a>
<a href="http://www.linkedin.com/in/citizen428"><img src="/images/icons/linkedin.png"
                                             alt="Twitter" /></a>
</div>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/06/04/new-post/">Review: Statistics Done Wrong</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/07/12/information-overload-2015-07-12/">Information Overload 2015-07-12</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/07/06/information-overload-2015-07-06/">Information Overload 2015-07-06</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/07/information-overload-2015-06-07/">Information Overload 2015-06-07</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/01/information-overload-2015-06-01/">Information Overload 2015-06-01</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("citizen428", 3, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/citizen428" class="twitter-follow-button" data-show-count="true">Follow @citizen428</a>
  
</section>


<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/citizen428">@citizen428</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'citizen428',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Michael Kohl -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'citizen428-blog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
